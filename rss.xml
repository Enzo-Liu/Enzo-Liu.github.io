<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
  <channel>
    <title>enzo&#39;s note book</title>
    <link>http://enzo-liu.github.io</link>
    <description>M-x (sketch for random ideas)</description>
    <pubDate>Fri, 24 Jul 2020 21:41:56 CST</pubDate>
    <lastBuildDate>Fri, 24 Jul 2020 21:41:56 CST</lastBuildDate>
    <docs>http://www.rssboard.org/rss-specification</docs>
    <generator>Org-page static site generator (https://github.com/kelvinh/org-page)</generator>
    <item>
      <title>业务架构交流与分享</title>
      <link>http://enzo-liu.github.io/blog/2019/06/27/业务架构交流与分享/</link>
      <description><![CDATA[<section id="content" role="main">
    <div id="outline-container-sec-" class="row" style="padding-top: 70px">
        <div class="col-md-2"></div>
            <h1>业务架构交流与分享</h1>
            <div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org6b8744e">1. 内容简介</a>
<ul>
<li><a href="#orgadb63df">1.1. 个人介绍</a></li>
<li><a href="#orga3af714">1.2. 分享目的</a></li>
</ul>
</li>
<li><a href="#org2335746">2. 架构是什么</a>
<ul>
<li><a href="#org2736364">2.1. 官方解释(wiki &amp; book)</a></li>
<li><a href="#org05e6d95">2.2. 架构的五个层次</a></li>
<li><a href="#org9368d38">2.3. 常见关注点</a></li>
</ul>
</li>
<li><a href="#org6ffb720">3. 票牛架构演进</a>
<ul>
<li><a href="#org3732f65">3.1. 主线</a></li>
<li><a href="#orgdbc84ce">3.2. 0-1 (2 个月)</a></li>
<li><a href="#org2438452">3.3. 配置中心</a></li>
<li><a href="#org648d5bb">3.4. 优惠系统</a></li>
<li><a href="#orgd5d2cd9">3.5. 支付网关 (15 年 11 月)</a></li>
<li><a href="#orgf230530">3.6. 报表中心</a></li>
<li><a href="#orgfc06050">3.7. 垂直分库</a></li>
<li><a href="#orgac0dd3d">3.8. openapi (16 年底)</a></li>
<li><a href="#org64e9b0d">3.9. 数据库迁移 RDS (17 年初)</a></li>
<li><a href="#orgbc58517">3.10. 发布系统 (17 年下半年)</a></li>
<li><a href="#orgd516f13">3.11. solr 迁移 solr-cloud (18 年初)</a></li>
<li><a href="#orge778bd5">3.12. xxl-job 分布式 job 管理</a></li>
<li><a href="#orgaceef6e">3.13. 流控</a></li>
<li><a href="#org87d93f1">3.14. 支付中心(收银台)</a></li>
<li><a href="#org1347a35">3.15. 订单中台(18 年中, 6 人月)</a></li>
<li><a href="#orgf6e7b02">3.16. 业务拆分 module</a></li>
<li><a href="#org4a1a659">3.17. 分销中台</a></li>
<li><a href="#org62a1c77">3.18. <b>总结</b></a></li>
</ul>
</li>
<li><a href="#org3516271">4. 其他案例分享</a>
<ul>
<li><a href="#org2e3d83d">4.1. 华为</a></li>
<li><a href="#org3aca6bd">4.2. 点评</a></li>
<li><a href="#orgd5e8d2e">4.3. 抖音</a></li>
<li><a href="#org8137703">4.4. 秉坤</a></li>
</ul>
</li>
<li><a href="#org6263f1f">5. 典型的架构模式</a>
<ul>
<li><a href="#orgb88c409">5.1. 从混沌到结构</a></li>
<li><a href="#org16030e5">5.2. 分布式系统</a></li>
<li><a href="#orga77d623">5.3. 交互式系统</a></li>
<li><a href="#orgf260f5c">5.4. 适应性系统</a></li>
</ul>
</li>
<li><a href="#org4183746">6. 个人观点</a>
<ul>
<li><a href="#org83e47c6">6.1. 我对架构的认识</a></li>
<li><a href="#orgfdd8014">6.2. 架构解决的主要问题</a></li>
<li><a href="#org9152346">6.3. 架构的成本和收益</a></li>
<li><a href="#org5901ecc">6.4. 架构重点</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org6b8744e" class="outline-2">
<h2 id="org6b8744e"><span class="section-number-2">1</span> 内容简介</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orgadb63df" class="outline-3">
<h3 id="orgadb63df"><span class="section-number-3">1.1</span> 个人介绍</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>07~11, 南大数学本科</li>
<li>11~13, 南京华为业软, 即时通讯软件开发</li>
<li>13~15, 上海点评, 商家后台, 产品中心, 审核, 风控, CRM</li>
<li>15~19, 票牛网
<ul class="org-ul">
<li>15~16: 全站研发</li>
<li>16~17: 负责站内运营(商品, 会员, 活动)</li>
<li>17~18: 负责行业系统研发</li>
<li>18~19: 负责公司后端研发</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orga3af714" class="outline-3">
<h3 id="orga3af714"><span class="section-number-3">1.2</span> 分享目的</h3>
<div class="outline-text-3" id="text-1-2">
<ol class="org-ol">
<li>探讨一下架构的目的和要解决的问题以及常见解决办法</li>
<li>分享过去在票牛的决策和经历</li>
<li>分享了解到的别的架构团队的关注点和工作</li>
<li>探讨一下各自对架构的观点和体会</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-org2335746" class="outline-2">
<h2 id="org2335746"><span class="section-number-2">2</span> 架构是什么</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org2736364" class="outline-3">
<h3 id="org2736364"><span class="section-number-3">2.1</span> 官方解释(wiki &amp; book)</h3>
<div class="outline-text-3" id="text-2-1">
<blockquote>
<p>
Architecture is like teenage sex，everybody talks about it，nobody really knows what is it。
</p>
</blockquote>
<ul class="org-ul">
<li>提供一套预定义的子系统, 规定它们的职责, 并包含用于组织它们之间关系的规则和指南。</li>
<li>描述组件, 边界以及组件与组件之间的关系</li>
<li>最高层次的规划, 难以改变的决定</li>
<li>有关软件整体结构与组件的抽象描述, 用于指导大型软件系统各个方面的设计</li>
</ul>
</div>
</div>

<div id="outline-container-org05e6d95" class="outline-3">
<h3 id="org05e6d95"><span class="section-number-3">2.2</span> 架构的五个层次</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>可用</li>
<li>可伸缩</li>
<li>可见</li>
<li>可调控</li>
<li>可适应</li>
</ul>
</div>
</div>
<div id="outline-container-org9368d38" class="outline-3">
<h3 id="org9368d38"><span class="section-number-3">2.3</span> 常见关注点</h3>
<div class="outline-text-3" id="text-2-3">
<ol class="org-ol">
<li>功能</li>
<li>性能</li>
<li>可扩展</li>
<li>可见性</li>
<li>&#x2026;</li>
</ol>
</div>
</div>
</div>


<div id="outline-container-org6ffb720" class="outline-2">
<h2 id="org6ffb720"><span class="section-number-2">3</span> 票牛架构演进</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org3732f65" class="outline-3">
<h3 id="org3732f65"><span class="section-number-3">3.1</span> 主线</h3>
<div class="outline-text-3" id="text-3-1">
<ol class="org-ol">
<li>支持和保障业务规划的完成</li>
<li>资源有限, 如何最大化利用</li>
<li>如何平衡当期和对未来的投资</li>
<li>减少业务的试错成本</li>
<li>研发效率和质量</li>
</ol>
</div>
</div>
<div id="outline-container-orgdbc84ce" class="outline-3">
<h3 id="orgdbc84ce"><span class="section-number-3">3.2</span> 0-1 (2 个月)</h3>
<div class="outline-text-3" id="text-3-2">
<ul class="org-ul">
<li>问题
<ul class="org-ul">
<li>功能性, 快速, 能较低成本发展壮大</li>
</ul></li>

<li>人员
<ul class="org-ul">
<li>后端: 2, 前端: 2</li>
</ul></li>
</ul>

<ul class="org-ul">
<li>业务</li>
</ul>
<p>
<a href="./images/business-v1.0.eps">./images/business-v1.0.eps</a>
</p>

<ul class="org-ul">
<li>系统
<ul class="org-ul">
<li>一个代码仓库, 一个 project, 3 个 module(job, web, biz)</li>
<li>2 台 api, 1 台 job, 1 台 ecs (op), 一台 solr+memcached</li>
<li>2 台 ecs (数据库, 主从, 从库仅用于备份)</li>
<li>七牛</li>
<li>eventbus</li>
<li>测试环境</li>
<li>发布(ansible)  2015-10-23</li>
<li>监控, 备份</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org2438452" class="outline-3">
<h3 id="org2438452"><span class="section-number-3">3.3</span> 配置中心</h3>
<div class="outline-text-3" id="text-3-3">
<ul class="org-ul">
<li>问题
<ul class="org-ul">
<li>增加了 pc 和商家, 部署的机器增多</li>
<li>业务逐渐复杂，配置项增多</li>
<li>配置项的更新需要发布全部机器</li>
</ul></li>
<li>解决
<ul class="org-ul">
<li>zk 提供应用级别配置, 以及业务级别配置变更的通知</li>
<li>数据库提供业务级别的配置</li>
<li>不同环境使用不同的 zk</li>
<li>手工提供一个简易版本的配置中心</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org648d5bb" class="outline-3">
<h3 id="org648d5bb"><span class="section-number-3">3.4</span> 优惠系统</h3>
<div class="outline-text-3" id="text-3-4">
<ul class="org-ul">
<li>问题<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>
<ul class="org-ul">
<li>优惠形式: 立减, 折扣, 免邮</li>
<li>优惠对象: 人, 商品</li>
<li>优惠门槛: 周第一单, 满两张, 满 100 元, 指定相邻座位&#x2026;</li>
<li>时效变化: 活动有效期</li>
<li>处于订单黄金流程中, 应用级别高</li>
</ul></li>
<li>解决<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup>
<ul class="org-ul">
<li>非结构化的规则描述</li>
<li>内存索引</li>
<li>活动 as 流, 和数据库监控变化进行同步</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgd5d2cd9" class="outline-3">
<h3 id="orgd5d2cd9"><span class="section-number-3">3.5</span> 支付网关 (15 年 11 月)</h3>
<div class="outline-text-3" id="text-3-5">
<ul class="org-ul">
<li>问题
<ul class="org-ul">
<li>用户的支付渠道极其丰富(尽管支付宝微信占比 90%以上)</li>
<li>银联, 招行一网通，招行账上生活，农行掌银, 兜里积分, 杉德支付<sup><a id="fnr.3" class="footref" href="#fn.3">3</a></sup></li>
</ul></li>
<li>解决
<ul class="org-ul">
<li>提供支付网关, 统一接入规范
<ul class="org-ul">
<li>支付请求, 回调, 退款，查询, 对账</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgf230530" class="outline-3">
<h3 id="orgf230530"><span class="section-number-3">3.6</span> 报表中心</h3>
<div class="outline-text-3" id="text-3-6">
<ul class="org-ul">
<li>问题
<ul class="org-ul">
<li>运营分析手动拉数据(sqlboy)</li>
<li>拉了一次还不够, 日周月年</li>
<li>大体一致的需要，每次参数调整都需要研发</li>
</ul></li>
<li>解决<sup><a id="fnr.4" class="footref" href="#fn.4">4</a></sup>
<ul class="org-ul">
<li>日周月年的报表自动配置生成</li>
<li>提供 sql 的参数化能力</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgfc06050" class="outline-3">
<h3 id="orgfc06050"><span class="section-number-3">3.7</span> 垂直分库</h3>
<div class="outline-text-3" id="text-3-7">
<ul class="org-ul">
<li>问题
<ul class="org-ul">
<li>某次报表业务把线上库拖跪了</li>
<li>用户推送消息过多影响下单</li>
<li>&#x2026;</li>
</ul></li>
<li>解决
<ul class="org-ul">
<li>独立部署部分业务的数据库<sup><a id="fnr.5" class="footref" href="#fn.5">5</a></sup></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgac0dd3d" class="outline-3">
<h3 id="orgac0dd3d"><span class="section-number-3">3.8</span> openapi (16 年底)</h3>
<div class="outline-text-3" id="text-3-8">
<ul class="org-ul">
<li>问题
<ul class="org-ul">
<li>分销给猫眼, 需要一定的定制</li>
<li>不希望影响站内</li>
</ul></li>
<li>解决<sup><a id="fnr.6" class="footref" href="#fn.6">6</a></sup>
<ul class="org-ul">
<li>作为和 pc, m 站同级的分销平台，建立 openapi 模块</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org64e9b0d" class="outline-3">
<h3 id="org64e9b0d"><span class="section-number-3">3.9</span> 数据库迁移 RDS (17 年初)</h3>
<div class="outline-text-3" id="text-3-9">
<ul class="org-ul">
<li>问题
<ul class="org-ul">
<li>周杰伦抢票，宕机一小时&#x2026;
<ul class="org-ul">
<li>ecs 的 io 性能</li>
<li>mysql 的 query cache 配置</li>
</ul></li>
<li>无人监控&amp;维护数据库</li>
</ul></li>
<li>解决
<ul class="org-ul">
<li>迁移至 rds</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgbc58517" class="outline-3">
<h3 id="orgbc58517"><span class="section-number-3">3.10</span> 发布系统 (17 年下半年)</h3>
<div class="outline-text-3" id="text-3-10">
<ul class="org-ul">
<li>问题
<ul class="org-ul">
<li>业务类型变多(jar, war, node, 静态资源)</li>
<li>上线的机器变多</li>
<li>人员变多(后端 10, 前端 14)</li>
<li>测试代码被带上线</li>
</ul></li>
<li>解决办法<sup><a id="fnr.7" class="footref" href="#fn.7">7</a></sup>
<ul class="org-ul">
<li>自定义的 mozart 文件(发布的规则文件, 定义生命周期)</li>
<li>图形化的页面</li>
<li>lightMerge(多分支)的合并测试</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgd516f13" class="outline-3">
<h3 id="orgd516f13"><span class="section-number-3">3.11</span> solr 迁移 solr-cloud (18 年初)</h3>
<div class="outline-text-3" id="text-3-11">
<ul class="org-ul">
<li>问题
<ul class="org-ul">
<li>xx 抢票, 宕机小半天&#x2026;
<ul class="org-ul">
<li>solr 的 gc 配置</li>
<li>solr 的单机瓶颈</li>
</ul></li>
</ul></li>
<li>解决
<ul class="org-ul">
<li>简单的调优+迁移 solr-cloud, 单机 60qps -&gt; (2 台) 集群 600qps</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orge778bd5" class="outline-3">
<h3 id="orge778bd5"><span class="section-number-3">3.12</span> xxl-job 分布式 job 管理</h3>
<div class="outline-text-3" id="text-3-12">
<ul class="org-ul">
<li>问题
<ul class="org-ul">
<li>单机情况下, 不方便扩容</li>
<li>可见性比较差</li>
<li>对于 job 的执行的控制不是很方便管理</li>
</ul></li>
<li>解决
<ul class="org-ul">
<li>引入 xxl-job</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgaceef6e" class="outline-3">
<h3 id="orgaceef6e"><span class="section-number-3">3.13</span> 流控</h3>
<div class="outline-text-3" id="text-3-13">
<ul class="org-ul">
<li>问题
<ul class="org-ul">
<li>攻击</li>
<li>抢票时的峰值流量</li>
</ul></li>
<li>解决
<ul class="org-ul">
<li>在 nginx 前放一个 阿里云的 slb&#x2026;</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org87d93f1" class="outline-3">
<h3 id="org87d93f1"><span class="section-number-3">3.14</span> 支付中心(收银台)</h3>
<div class="outline-text-3" id="text-3-14">
<ul class="org-ul">
<li>问题
<ul class="org-ul">
<li>要支付的业务实体增多, 无统一的管理</li>
</ul></li>
<li>解决
<ul class="org-ul">
<li>定义支付中心, 统一接入规范</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org1347a35" class="outline-3">
<h3 id="org1347a35"><span class="section-number-3">3.15</span> 订单中台(18 年中, 6 人月)</h3>
<div class="outline-text-3" id="text-3-15">
<ul class="org-ul">
<li>问题
<ul class="org-ul">
<li>业务模式复杂: 拼团，套票，抢票，抽奖，求票，买会员, 买优惠券&#x2026;</li>
</ul></li>
<li>解决
<ul class="org-ul">
<li>用更抽象的概念承载业务实体和流程
<ul class="org-ul">
<li>用户订单</li>
<li>商品</li>
<li>采购单</li>
<li>发货单</li>
</ul></li>
<li>定义统一的控制流和生命周期</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgf6e7b02" class="outline-3">
<h3 id="orgf6e7b02"><span class="section-number-3">3.16</span> 业务拆分 module</h3>
<div class="outline-text-3" id="text-3-16">
<ul class="org-ul">
<li>问题
<ul class="org-ul">
<li>业务边界缺乏约束</li>
<li>相似功能放在不同的业务模块中，不易发现</li>
<li>无法找到 owner 对某块业务负责</li>
</ul></li>
<li>解决
<ul class="org-ul">
<li>拆分出演出, 推荐, 商品, 订单, 分销, 供应链模块</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org4a1a659" class="outline-3">
<h3 id="org4a1a659"><span class="section-number-3">3.17</span> 分销中台</h3>
<div class="outline-text-3" id="text-3-17">
<ul class="org-ul">
<li>问题
<ul class="org-ul">
<li>分销系统对于可见性要求高</li>
<li>分销系统对于同步延时，容错处理等要求高</li>
<li>不同平台的商品定制要求不一(价格调整，黑白名单，详情定制&#x2026;)</li>
<li>无统一的运营维护平台</li>
<li>无统一的机制, 导致问题要重复解决, 质量参差不齐</li>
</ul></li>
<li>解决
<ul class="org-ul">
<li>定义分销领域统一的视图和概念</li>
<li>建立分销中台，定义和规范 h5, api 等分销的流程</li>
<li>定义扩展点</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org62a1c77" class="outline-3">
<h3 id="org62a1c77"><span class="section-number-3">3.18</span> <b>总结</b></h3>
<div class="outline-text-3" id="text-3-18">
<ul class="org-ul">
<li>对业务发展，研发效率最有帮助的地方
<ul class="org-ul">
<li>业务框架(不用干活, 效率最高)</li>
<li>可见性</li>
<li>清晰的模块边界(关注点小, 确定, 简单)</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org3516271" class="outline-2">
<h2 id="org3516271"><span class="section-number-2">4</span> 其他案例分享</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org2e3d83d" class="outline-3">
<h3 id="org2e3d83d"><span class="section-number-3">4.1</span> 华为</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li>基线与定制分离</li>
<li>外包团队管理</li>
<li>专门的设计文档撰写(SE)</li>
</ul>
</div>
</div>
<div id="outline-container-org3aca6bd" class="outline-3">
<h3 id="org3aca6bd"><span class="section-number-3">4.2</span> 点评</h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li>中间件
<ul class="org-ul">
<li>cat, pigeon, swallow</li>
</ul></li>
<li>业务架构
<ul class="org-ul">
<li>阿波罗(中后台业务架构: CRM, 商家, 结算, 产品制作, 风控, 审核, 券&#x2026;)</li>
</ul></li>
<li>v1 -&gt; v4</li>
</ul>
</div>
</div>
<div id="outline-container-orgd5e8d2e" class="outline-3">
<h3 id="orgd5e8d2e"><span class="section-number-3">4.3</span> 抖音</h3>
<div class="outline-text-3" id="text-4-3">
<ul class="org-ul">
<li>异地多活, 用户的单元化存储, 存储中间件</li>
<li>审核系统设计</li>
</ul>
<blockquote>
<p>
musically: 
</p>
<ol class="org-ol">
<li>做了一年的准备工作，老板不想做了，把公司卖了</li>
<li>(去了抖音之后)性能现在是最容易解决的问题, 跨洲的多活很难。尤其做一套统一的模型，更难。</li>
</ol>
</blockquote>
</div>
</div>
<div id="outline-container-org8137703" class="outline-3">
<h3 id="org8137703"><span class="section-number-3">4.4</span> 秉坤</h3>
<div class="outline-text-3" id="text-4-4">
<ul class="org-ul">
<li>ERP 自助开发的 IDE 
<ul class="org-ul">
<li>输入, 输出, 管道, 过滤器</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org6263f1f" class="outline-2">
<h2 id="org6263f1f"><span class="section-number-2">5</span> 典型的架构模式<sup><a id="fnr.8" class="footref" href="#fn.8">8</a></sup></h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgb88c409" class="outline-3">
<h3 id="orgb88c409"><span class="section-number-3">5.1</span> 从混沌到结构</h3>
<div class="outline-text-3" id="text-5-1">
<blockquote>
<p>
避免形成组件或者对象的海洋,将系统任务受控地分解成可协作的子任务
</p>
</blockquote>

<ul class="org-ul">
<li>分层架构(Layers)</li>
<li>管道和过滤器(Pipes and Filters)</li>
<li>黑板(Blackboard)</li>
</ul>
</div>
</div>
<div id="outline-container-org16030e5" class="outline-3">
<h3 id="org16030e5"><span class="section-number-3">5.2</span> 分布式系统</h3>
<div class="outline-text-3" id="text-5-2">
<ul class="org-ul">
<li>代理者(Broker)</li>
</ul>
</div>
</div>
<div id="outline-container-orga77d623" class="outline-3">
<h3 id="orga77d623"><span class="section-number-3">5.3</span> 交互式系统</h3>
<div class="outline-text-3" id="text-5-3">
<ul class="org-ul">
<li>模型-视图-控制器(Model-View-Controller)</li>
<li>表示-抽象-控制(Presentation-Abstraction-Control)</li>
</ul>
</div>
</div>
<div id="outline-container-orgf260f5c" class="outline-3">
<h3 id="orgf260f5c"><span class="section-number-3">5.4</span> 适应性系统</h3>
<div class="outline-text-3" id="text-5-4">
<ul class="org-ul">
<li>微核 (Microkernel)</li>
<li>映像 (Reflection)</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org4183746" class="outline-2">
<h2 id="org4183746"><span class="section-number-2">6</span> 个人观点</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org83e47c6" class="outline-3">
<h3 id="org83e47c6"><span class="section-number-3">6.1</span> 我对架构的认识</h3>
<div class="outline-text-3" id="text-6-1">
<blockquote>
<p>
架构: 我是谁, 我从哪里来, 我要到哪里去
</p>
</blockquote>

<p>
架构的价值依托于系统本身.
</p>

<ul class="org-ul">
<li>系统能带来价值, 但是存在问题需要解决。</li>
<li>架构就是在高层的视角下看到的问题和提供的解决方案。</li>
</ul>
</div>
</div>

<div id="outline-container-orgfdd8014" class="outline-3">
<h3 id="orgfdd8014"><span class="section-number-3">6.2</span> 架构解决的主要问题</h3>
<div class="outline-text-3" id="text-6-2">
<ol class="org-ol">
<li>复杂性</li>
<li>可扩展性, 系统的生命周期</li>
<li>性能, 规模</li>
<li>可行性(受限资源下)</li>
</ol>
</div>
</div>

<div id="outline-container-org9152346" class="outline-3">
<h3 id="org9152346"><span class="section-number-3">6.3</span> 架构的成本和收益</h3>
<div class="outline-text-3" id="text-6-3">
<ol class="org-ol">
<li>当期收益 &amp; 未来收益
<ol class="org-ol">
<li>不可行 -&gt; 可行</li>
<li>更长的生命周期</li>
<li>未来更低的实现成本</li>
<li>未来更低的维护成本</li>
<li>可控的复杂</li>
</ol></li>

<li>成本
<ol class="org-ol">
<li>设计理念的门槛和理解成本增加</li>
<li>当期的实现工作/难度增加</li>
</ol></li>
</ol>
</div>
</div>

<div id="outline-container-org5901ecc" class="outline-3">
<h3 id="org5901ecc"><span class="section-number-3">6.4</span> 架构重点</h3>
<div class="outline-text-3" id="text-6-4">
<ol class="org-ol">
<li>预见性</li>
<li>概念的一致性, 规范的强制性</li>
<li>权衡
<ul class="org-ul">
<li>成本/收益</li>
<li>现在/将来</li>
<li>做什么, 方案, 程度</li>
</ul></li>
</ol>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">优惠的优先级，共享等直接在产品上简化</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara">依然是一个 jar 中, 所以每个 jvm 都会同步</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3">3</a></sup> <div class="footpara"><p class="footpara">截止目前, 27 种支付渠道</p></div></div>

<div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4">4</a></sup> <div class="footpara"><p class="footpara">已于 2018 年中被 metabase 取代</p></div></div>

<div class="footdef"><sup><a id="fn.5" class="footnum" href="#fnr.5">5</a></sup> <div class="footpara"><p class="footpara">未独立出单独部署的 RPC 服务, 仅做了分库</p></div></div>

<div class="footdef"><sup><a id="fn.6" class="footnum" href="#fnr.6">6</a></sup> <div class="footpara"><p class="footpara">未独立部署，仅逻辑上拆分, 代码上是一个独立的 module</p></div></div>

<div class="footdef"><sup><a id="fn.7" class="footnum" href="#fnr.7">7</a></sup> <div class="footpara"><p class="footpara">16 年中开始用 haskell 做的 cli 的发布系统, 教新同学依然比较难</p></div></div>

<div class="footdef"><sup><a id="fn.8" class="footnum" href="#fnr.8">8</a></sup> <div class="footpara"><p class="footpara">本章内容来自 &lt;面向模式的软件体系架构&gt;</p></div></div>


</div>
</div>
    </div>
</section>
]]></description>
      <pubDate>2020-07-24</pubDate>
      <guid>http://enzo-liu.github.io/blog/2019/06/27/业务架构交流与分享/</guid>
    </item>
    <item>
      <title>研发自我提升</title>
      <link>http://enzo-liu.github.io/blog/2018/08/20/研发自我提升/</link>
      <description><![CDATA[<section id="content" role="main">
    <div id="outline-container-sec-" class="row" style="padding-top: 70px">
        <div class="col-md-2"></div>
            <h1>研发自我提升</h1>
            <div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org96ecabd">1. 目的</a>
<ul>
<li><a href="#org3fc2e29">1.1. 目的</a></li>
</ul>
</li>
<li><a href="#org73c5b06">2. 技术方向</a>
<ul>
<li><a href="#org9ea2f24">2.1. 业务研发&amp;架构</a></li>
<li><a href="#orgd0d0390">2.2. 系统架构</a></li>
<li><a href="#orgb7bb835">2.3. 专业方向</a></li>
</ul>
</li>
<li><a href="#org7f9aacb">3. 能力方向</a>
<ul>
<li><a href="#orgfb1d907">3.1. 通用能力</a></li>
<li><a href="#orgc3b8cc3">3.2. 专业能力</a></li>
</ul>
</li>
<li><a href="#org82979f4">4. 自我提升</a>
<ul>
<li><a href="#org7249bb5">4.1. 个人学习方法</a></li>
<li><a href="#org7273fb1">4.2. 基础的经验积累</a></li>
<li><a href="#org18e6556">4.3. 练习 &amp;&amp; 工具化</a></li>
<li><a href="#org2f48fff">4.4. 系统化学习</a></li>
<li><a href="#orgcde15c4">4.5. 基础学习</a></li>
<li><a href="#org31232ed">4.6. 专题学习</a></li>
<li><a href="#orgcd9d4e0">4.7. 交流</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org96ecabd" class="outline-2">
<h2 id="org96ecabd"><span class="section-number-2">1</span> 目的</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org3fc2e29" class="outline-3">
<h3 id="org3fc2e29"><span class="section-number-3">1.1</span> 目的</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>明确研发的发展方向</li>
<li>明确需要具备的能力</li>
<li>针对不同的类型能力, 如何培养和发展</li>
<li><b>如何自我提升</b></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org73c5b06" class="outline-2">
<h2 id="org73c5b06"><span class="section-number-2">2</span> 技术方向</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org9ea2f24" class="outline-3">
<h3 id="org9ea2f24"><span class="section-number-3">2.1</span> 业务研发&amp;架构<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup></h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>把握/分析业务流程</li>
<li>(复杂) 业务系统设计和研发</li>
<li><span class="underline">业务研发的难点解决</span></li>
<li><span class="underline">判断业务价值</span></li>
</ul>
</div>
</div>

<div id="outline-container-orgd0d0390" class="outline-3">
<h3 id="orgd0d0390"><span class="section-number-3">2.2</span> 系统架构<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup></h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>数据库访问组件</li>
<li>消息队列, 服务通讯框架</li>
<li>分布式事物</li>
</ul>
</div>
</div>

<div id="outline-container-orgb7bb835" class="outline-3">
<h3 id="orgb7bb835"><span class="section-number-3">2.3</span> 专业方向</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li>DBA</li>
<li>运维/可靠性</li>
<li>安全</li>
<li>算法</li>
<li>搜索推荐</li>
<li>大数据</li>
<li>研发工具</li>
<li>性能</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org7f9aacb" class="outline-2">
<h2 id="org7f9aacb"><span class="section-number-2">3</span> 能力方向</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orgfb1d907" class="outline-3">
<h3 id="orgfb1d907"><span class="section-number-3">3.1</span> 通用能力</h3>
<div class="outline-text-3" id="text-3-1">
<ul class="org-ul">
<li><b>做的更好/更快/更美的意识和追求</b></li>
<li>分析与拆解 <span class="underline">找差异</span></li>
<li>抽象 <span class="underline">找共性, 找模式</span></li>
<li>方法论
<ul class="org-ul">
<li>理解, 计划, 分解, 练习</li>
<li>P(lan), D(o), C(heck), A(ction)</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgc3b8cc3" class="outline-3">
<h3 id="orgc3b8cc3"><span class="section-number-3">3.2</span> 专业能力</h3>
<div class="outline-text-3" id="text-3-2">
<ul class="org-ul">
<li>业务能力 <sup><a id="fnr.3" class="footref" href="#fn.3">3</a></sup>
<ul class="org-ul">
<li>分析理解，拆解落实</li>
</ul></li>
<li>工程能力
<ul class="org-ul">
<li>工具, 调试, 环境, 研发流程, 测试, &#x2026;</li>
</ul></li>
<li>业务架构能力</li>

<li>编程抽象模型/编程范式<sup><a id="fnr.4" class="footref" href="#fn.4">4</a></sup>
<ul class="org-ul">
<li>过程抽象, 数据抽象, 元语言抽象, &#x2026;</li>
</ul></li>
<li>算法/ML/AI</li>
<li>分布式系统</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org82979f4" class="outline-2">
<h2 id="org82979f4"><span class="section-number-2">4</span> 自我提升</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org7249bb5" class="outline-3">
<h3 id="org7249bb5"><span class="section-number-3">4.1</span> 个人学习方法</h3>
<div class="outline-text-3" id="text-4-1">
<ol class="org-ol">
<li>找到有兴趣的领域, 看书</li>
<li>练习
<ol class="org-ol">
<li>业余 lisp, haskell, 2048, udp, interpeter, <code>project-euler</code> , <code>usaco</code></li>
<li>工作 各种提效相关的工具</li>
</ol></li>
<li>总结 &amp; 思考 &amp; 分享</li>
<li><code>emacs + org-mode</code> 写文档</li>
</ol>
</div>
</div>

<div id="outline-container-org7273fb1" class="outline-3">
<h3 id="org7273fb1"><span class="section-number-3">4.2</span> 基础的经验积累</h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li>业务知识</li>
<li>研发流程/规范</li>
<li>对所用框架/工具的了解</li>
</ul>
</div>
</div>

<div id="outline-container-org18e6556" class="outline-3">
<h3 id="org18e6556"><span class="section-number-3">4.3</span> 练习 &amp;&amp; 工具化</h3>
<div class="outline-text-3" id="text-4-3">
<ul class="org-ul">
<li>手动配置多个内容, 可否写个脚本</li>
<li>重复的代码怎么抽象</li>
<li>如何抽象模式类似的业务
<ul class="org-ul">
<li>比如第三方对接</li>
<li>比如多个支付渠道</li>
<li>比如多种订单&#x2026;</li>
</ul></li>
<li>如何写一个 <code>http-server</code>, <code>tiny-spring</code>, <code>crawler</code>, <code>dns 服务器</code> <sup><a id="fnr.5" class="footref" href="#fn.5">5</a></sup></li>
</ul>
</div>
</div>

<div id="outline-container-org2f48fff" class="outline-3">
<h3 id="org2f48fff"><span class="section-number-3">4.4</span> 系统化学习</h3>
<div class="outline-text-3" id="text-4-4">
<blockquote>
<p>
<a href="http://static.icybear.net/%5BCN%5DProgrammer%20competency%20matrix.htm">程序员能力矩阵(可点击)</a>
</p>

<ul class="org-ul">
<li>太过系统, 可能有点多&#x2026;</li>
</ul>
</blockquote>

<blockquote>
<p>
<a href="http://blog.knownsec.com/Knownsec_RD_Checklist/v3.0.html">知道创宇技能表(可点击)</a>
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orgcde15c4" class="outline-3">
<h3 id="orgcde15c4"><span class="section-number-3">4.5</span> 基础学习</h3>
<div class="outline-text-3" id="text-4-5">
<ul class="org-ul">
<li>(*) 编程思想
<ul class="org-ul">
<li>SICP</li>
<li>Concepts, Techniques, and Models of Computer Programming</li>
</ul></li>

<li>(*) 工程能力
<ul class="org-ul">
<li>The Elements of Programming Style</li>
<li>Code Complete</li>
<li><a href="http://www.aosabook.org/en/index.html">http://www.aosabook.org/en/index.html</a></li>
</ul></li>

<li>(*) 研发价值观
<ul class="org-ul">
<li>The Art Of Unix Programming</li>
<li>Python: <code>import this</code></li>
<li>Rework</li>
<li>Hackers and Painters</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org31232ed" class="outline-3">
<h3 id="org31232ed"><span class="section-number-3">4.6</span> 专题学习</h3>
<div class="outline-text-3" id="text-4-6">
<ul class="org-ul">
<li>算法
<ul class="org-ul">
<li>Grokking Algorithms <sup><a id="fnr.6" class="footref" href="#fn.6">6</a></sup></li>
</ul></li>
<li>ML/AI
<ul class="org-ul">
<li><a href="http://www.cs.cmu.edu/~tom/">http://www.cs.cmu.edu/~tom/</a></li>
<li><a href="https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-034-artificial-intelligence-fall-2010/">MIT AI 课程(可点击)</a></li>
</ul></li>
<li>分布式
<ul class="org-ul">
<li><a href="http://www.scs.stanford.edu/17au-cs244b/">http://www.scs.stanford.edu/17au-cs244b/</a></li>
<li><a href="https://pdos.csail.mit.edu/6.824/schedule.html">https://pdos.csail.mit.edu/6.824/schedule.html</a></li>
</ul></li>
<li>编程语言
<ul class="org-ul">
<li>7 周 7 语言</li>
<li>The little schemer</li>
<li><a href="http://cis.upenn.edu/~cis194/fall16/">http://cis.upenn.edu/~cis194/fall16/</a></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgcd9d4e0" class="outline-3">
<h3 id="orgcd9d4e0"><span class="section-number-3">4.7</span> 交流</h3>
<div class="outline-text-3" id="text-4-7">
<ul class="org-ul">
<li>总结</li>
<li>分享</li>
</ul>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">一个系统, 主要就是 <code>对外体现</code>, <code>对内组件</code>, <code>组件间关系</code> . 架构，就是对这个系统的抽象描述.</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara">提炼出业务系统中, 与业务不太相关, 更共性的那一面.</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3">3</a></sup> <div class="footpara"><p class="footpara">这一点在我来看更依赖通用能力和经验积累</p></div></div>

<div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4">4</a></sup> <div class="footpara"><p class="footpara">不同的看问题分析问题的角度</p></div></div>

<div class="footdef"><sup><a id="fn.5" class="footnum" href="#fnr.5">5</a></sup> <div class="footpara"><p class="footpara">再比如, <code>udp 协议栈</code>, <code>解释器</code> &#x2026;</p></div></div>

<div class="footdef"><sup><a id="fn.6" class="footnum" href="#fnr.6">6</a></sup> <div class="footpara"><p class="footpara">推荐一本书能理解就足够了, 这个 <code>容易读一些</code></p></div></div>


</div>
</div>
    </div>
</section>
]]></description>
      <pubDate>2020-07-24</pubDate>
      <guid>http://enzo-liu.github.io/blog/2018/08/20/研发自我提升/</guid>
    </item>
    <item>
      <title>专业工程师的特质</title>
      <link>http://enzo-liu.github.io/blog/2019/10/09/专业工程师的特质/</link>
      <description><![CDATA[<section id="content" role="main">
    <div id="outline-container-sec-" class="row" style="padding-top: 70px">
        <div class="col-md-2"></div>
            <h1>专业工程师的特质</h1>
            <div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org070201e">1. 表现</a>
<ul>
<li><a href="#org1fe0abd">1.1. 什么叫专业化</a></li>
<li><a href="#org538e1df">1.2. 行为表现</a></li>
</ul>
</li>
<li><a href="#org685daa6">2. 复杂问题的简化</a>
<ul>
<li><a href="#org5e60ed5">2.1. 解释 </a></li>
<li><a href="#orge01f882">2.2. 案例  1</a></li>
<li><a href="#org960b5e3">2.3. 案例  2</a></li>
</ul>
</li>
<li><a href="#org70c80a1">3. 繁琐的工作工具化</a>
<ul>
<li><a href="#orged79038">3.1. 解释</a></li>
<li><a href="#orgfa4eb13">3.2. 实际案例  1</a></li>
<li><a href="#orgf184f77">3.3. 实际案例  2</a></li>
</ul>
</li>
<li><a href="#org74eebd8">4. 系统化解决问题的能力</a>
<ul>
<li><a href="#org75492d9">4.1. 解释</a></li>
<li><a href="#orgcca9c4a">4.2. 案例  1</a></li>
<li><a href="#org5eb49ef">4.3. 案例  2</a></li>
</ul>
</li>
<li><a href="#org1df00fa">5. 技术方向</a>
<ul>
<li><a href="#org59655ff">5.1. 业务研发&amp;架构</a></li>
<li><a href="#orgf0221db">5.2. 系统架构</a></li>
<li><a href="#orgfaa8e3d">5.3. 专业方向</a></li>
</ul>
</li>
<li><a href="#org35d2d09">6. 能力方向</a>
<ul>
<li><a href="#org7d13837">6.1. 通用能力</a></li>
<li><a href="#org68c604c">6.2. 专业能力</a></li>
</ul>
</li>
<li><a href="#org09b306b">7. 自我提升</a>
<ul>
<li><a href="#org79be6f9">7.1. 个人学习方法</a></li>
<li><a href="#org5972db6">7.2. 基础的经验积累</a></li>
<li><a href="#org36bad14">7.3. 练习 &amp;&amp; 工具化</a></li>
<li><a href="#org6d62146">7.4. 系统化学习</a></li>
<li><a href="#org015cadf">7.5. 基础学习</a></li>
<li><a href="#org7c6be63">7.6. 专题学习</a></li>
<li><a href="#org77158c0">7.7. 交流</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org070201e" class="outline-2">
<h2 id="org070201e"><span class="section-number-2">1</span> 表现</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org1fe0abd" class="outline-3">
<h3 id="org1fe0abd"><span class="section-number-3">1.1</span> 什么叫专业化</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>首先，好的专业人士要在任何情况下为工作本身着想，不会因为其他事情影响该做的事情</li>
<li>其次，专业素养意味着遵守流程和行业规范。</li>
<li>再次，是否有专业素养体现在是否能把哪些不经意的事情做的比别人更好</li>
<li>最后，专业人士要有成体系的领域知识，而不仅仅是掌握一两项技能</li>
</ul>
</div>
</div>

<div id="outline-container-org538e1df" class="outline-3">
<h3 id="org538e1df"><span class="section-number-3">1.2</span> 行为表现</h3>
<div class="outline-text-3" id="text-1-2">
<ol class="org-ol">
<li>承诺+兑现</li>
<li>立场</li>
<li>细节</li>
<li>追求</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-org685daa6" class="outline-2">
<h2 id="org685daa6"><span class="section-number-2">2</span> 复杂问题的简化</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org5e60ed5" class="outline-3">
<h3 id="org5e60ed5"><span class="section-number-3">2.1</span> 解释 <sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup></h3>
<div class="outline-text-3" id="text-2-1">
<p>
<i>而不是简单的问题复杂化</i>
</p>

<p>
<b>看到规则, 看到逻辑, 看到关系和边界，看到封装和接口。而不是看到一个功能，另一个功能，100 个功能，然后相互还影响</b>
</p>
</div>
</div>

<div id="outline-container-orge01f882" class="outline-3">
<h3 id="orge01f882"><span class="section-number-3">2.2</span> 案例  1</h3>
<div class="outline-text-3" id="text-2-2">
<p>
比如商品的几个东西
</p>

<ol class="org-ol">
<li>加点扣点调价
<ol class="org-ol">
<li>价格库存管理</li>
<li>不同类型，如购票，抢票，拼团，预约券，特卖商品等</li>
<li>不同状态，在售，审核等</li>
</ol></li>
</ol>

<p>
等等特性之间, 分别是哪些业务哪些关系. 怎么能简化，而不是看着很复杂，无从下手。
</p>
</div>
</div>

<div id="outline-container-org960b5e3" class="outline-3">
<h3 id="org960b5e3"><span class="section-number-3">2.3</span> 案例  2</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li>订单，看到的通用流程，生命周期。 <i>下单-&gt;支付-&gt;成单-&gt;采购-&gt;发货</i> 。而不是看到有  7 种订单，3 种优惠，还都相互影响。</li>
<li>优惠，看到的是 <i>人，优惠形式，参与资格, 适用商品</i> 。而不是  3 种优惠，5 种资格，n 种商品, 15n 种场景</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org70c80a1" class="outline-2">
<h2 id="org70c80a1"><span class="section-number-2">3</span> 繁琐的工作工具化</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orged79038" class="outline-3">
<h3 id="orged79038"><span class="section-number-3">3.1</span> 解释</h3>
<div class="outline-text-3" id="text-3-1">
<p>
<i>不要人工维护各种工作，人不是神，记不住。让机器来。</i>
</p>
</div>
</div>

<div id="outline-container-orgfa4eb13" class="outline-3">
<h3 id="orgfa4eb13"><span class="section-number-3">3.2</span> 实际案例  1</h3>
<div class="outline-text-3" id="text-3-2">
<p>
前后台间的枚举值获取，或者统计库里的枚举值自动维护。
</p>

<blockquote>
<p>
让代码内的  enum 都去实现一个接口（提供获取  value 和  desc 的方法），在启动时或者编译期可以扫到所有实现这个接口的类，获取到类型, value 和  desc, 和从而可以提供接口获取到代码内的枚举以及枚举对应的值和描述。
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orgf184f77" class="outline-3">
<h3 id="orgf184f77"><span class="section-number-3">3.3</span> 实际案例  2</h3>
<div class="outline-text-3" id="text-3-3">
<ul class="org-ul">
<li>打包时拉  url schema 的定义自动解析</li>
<li>编译期自动维护  sql 和  dao 和实体的关系</li>
<li>pc 项目运行期自动更新模板，编译，用户  pc 前端的渲染</li>
<li>利用  ansible 获取指定机器的所有公网  IP</li>
<li><b>等等等等</b></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org74eebd8" class="outline-2">
<h2 id="org74eebd8"><span class="section-number-2">4</span> 系统化解决问题的能力</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org75492d9" class="outline-3">
<h3 id="org75492d9"><span class="section-number-3">4.1</span> 解释</h3>
<div class="outline-text-3" id="text-4-1">
<p>
看到问题，看到价值，看到方案。
<b>而不是看到事情.</b>
</p>

<blockquote>
<p>
有系统化解决问题的能力
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orgcca9c4a" class="outline-3">
<h3 id="orgcca9c4a"><span class="section-number-3">4.2</span> 案例  1</h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li>(3 天前) 某个记录表上加个操作人信息</li>
<li>某个记录表再加上一些类型，再加上一些&#x2026;</li>
</ul>
</div>
</div>


<div id="outline-container-org5eb49ef" class="outline-3">
<h3 id="org5eb49ef"><span class="section-number-3">4.3</span> 案例  2</h3>
<div class="outline-text-3" id="text-4-3">
<ul class="org-ul">
<li>今天某个项目天猫价格没同步，某个原因，打个补丁</li>
<li>明天换个项目库存没同步，打个补丁</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org1df00fa" class="outline-2">
<h2 id="org1df00fa"><span class="section-number-2">5</span> 技术方向</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org59655ff" class="outline-3">
<h3 id="org59655ff"><span class="section-number-3">5.1</span> 业务研发&amp;架构<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup></h3>
<div class="outline-text-3" id="text-5-1">
<ul class="org-ul">
<li>把握/分析业务流程</li>
<li>(复杂) 业务系统设计和研发</li>
<li><span class="underline">业务研发的难点解决</span></li>
<li><span class="underline">判断业务价值</span></li>
</ul>
</div>
</div>

<div id="outline-container-orgf0221db" class="outline-3">
<h3 id="orgf0221db"><span class="section-number-3">5.2</span> 系统架构<sup><a id="fnr.3" class="footref" href="#fn.3">3</a></sup></h3>
<div class="outline-text-3" id="text-5-2">
<ul class="org-ul">
<li>数据库访问组件</li>
<li>消息队列, 服务通讯框架</li>
<li>分布式事物</li>
</ul>
</div>
</div>

<div id="outline-container-orgfaa8e3d" class="outline-3">
<h3 id="orgfaa8e3d"><span class="section-number-3">5.3</span> 专业方向</h3>
<div class="outline-text-3" id="text-5-3">
<ul class="org-ul">
<li>DBA</li>
<li>运维/可靠性</li>
<li>安全</li>
<li>算法</li>
<li>搜索推荐</li>
<li>大数据</li>
<li>研发工具</li>
<li>性能</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org35d2d09" class="outline-2">
<h2 id="org35d2d09"><span class="section-number-2">6</span> 能力方向</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org7d13837" class="outline-3">
<h3 id="org7d13837"><span class="section-number-3">6.1</span> 通用能力</h3>
<div class="outline-text-3" id="text-6-1">
<ul class="org-ul">
<li><b>做的更好/更快/更美的意识和追求</b></li>
<li>分析与拆解 <span class="underline">找差异</span></li>
<li>抽象 <span class="underline">找共性, 找模式</span></li>
<li>方法论
<ul class="org-ul">
<li>理解, 计划, 分解, 练习</li>
<li>P(lan), D(o), C(heck), A(ction)</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org68c604c" class="outline-3">
<h3 id="org68c604c"><span class="section-number-3">6.2</span> 专业能力</h3>
<div class="outline-text-3" id="text-6-2">
<ul class="org-ul">
<li>业务能力 <sup><a id="fnr.4" class="footref" href="#fn.4">4</a></sup>
<ul class="org-ul">
<li>分析理解，拆解落实</li>
</ul></li>
<li>工程能力
<ul class="org-ul">
<li>工具, 调试, 环境, 研发流程, 测试, &#x2026;</li>
</ul></li>
<li>业务架构能力</li>

<li>编程抽象模型/编程范式<sup><a id="fnr.5" class="footref" href="#fn.5">5</a></sup>
<ul class="org-ul">
<li>过程抽象, 数据抽象, 元语言抽象, &#x2026;</li>
</ul></li>
<li>算法/ML/AI</li>
<li>分布式系统</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org09b306b" class="outline-2">
<h2 id="org09b306b"><span class="section-number-2">7</span> 自我提升</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org79be6f9" class="outline-3">
<h3 id="org79be6f9"><span class="section-number-3">7.1</span> 个人学习方法</h3>
<div class="outline-text-3" id="text-7-1">
<ol class="org-ol">
<li>找到有兴趣的领域, 看书</li>
<li>练习
<ol class="org-ol">
<li>业余 lisp, haskell, 2048, udp, interpeter, <code>project-euler</code> , <code>usaco</code></li>
<li>工作 各种提效相关的工具</li>
</ol></li>
<li>总结 &amp; 思考 &amp; 分享</li>
<li><code>emacs + org-mode</code> 写文档</li>
</ol>
</div>
</div>

<div id="outline-container-org5972db6" class="outline-3">
<h3 id="org5972db6"><span class="section-number-3">7.2</span> 基础的经验积累</h3>
<div class="outline-text-3" id="text-7-2">
<ul class="org-ul">
<li>业务知识</li>
<li>研发流程/规范</li>
<li>对所用框架/工具的了解</li>
</ul>
</div>
</div>

<div id="outline-container-org36bad14" class="outline-3">
<h3 id="org36bad14"><span class="section-number-3">7.3</span> 练习 &amp;&amp; 工具化</h3>
<div class="outline-text-3" id="text-7-3">
<ul class="org-ul">
<li>手动配置多个内容, 可否写个脚本</li>
<li>重复的代码怎么抽象</li>
<li>如何抽象模式类似的业务
<ul class="org-ul">
<li>比如第三方对接</li>
<li>比如多个支付渠道</li>
<li>比如多种订单&#x2026;</li>
</ul></li>
<li>如何写一个 <code>http-server</code>, <code>tiny-spring</code>, <code>crawler</code>, <code>dns 服务器</code> <sup><a id="fnr.6" class="footref" href="#fn.6">6</a></sup></li>
</ul>
</div>
</div>

<div id="outline-container-org6d62146" class="outline-3">
<h3 id="org6d62146"><span class="section-number-3">7.4</span> 系统化学习</h3>
<div class="outline-text-3" id="text-7-4">
<blockquote>
<p>
<a href="http://static.icybear.net/%5BCN%5DProgrammer%20competency%20matrix.htm">程序员能力矩阵(可点击)</a>
</p>

<ul class="org-ul">
<li>太过系统, 可能有点多&#x2026;</li>
</ul>
</blockquote>

<blockquote>
<p>
<a href="http://blog.knownsec.com/Knownsec_RD_Checklist/v3.0.html">知道创宇技能表(可点击)</a>
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org015cadf" class="outline-3">
<h3 id="org015cadf"><span class="section-number-3">7.5</span> 基础学习</h3>
<div class="outline-text-3" id="text-7-5">
<ul class="org-ul">
<li>(*) 编程思想
<ul class="org-ul">
<li>SICP</li>
<li>Concepts, Techniques, and Models of Computer Programming</li>
</ul></li>

<li>(*) 工程能力
<ul class="org-ul">
<li>The Elements of Programming Style</li>
<li>Code Complete</li>
<li><a href="http://www.aosabook.org/en/index.html">http://www.aosabook.org/en/index.html</a></li>
</ul></li>

<li>(*) 研发价值观
<ul class="org-ul">
<li>The Art Of Unix Programming</li>
<li>Python: <code>import this</code></li>
<li>Rework</li>
<li>Hackers and Painters</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org7c6be63" class="outline-3">
<h3 id="org7c6be63"><span class="section-number-3">7.6</span> 专题学习</h3>
<div class="outline-text-3" id="text-7-6">
<ul class="org-ul">
<li>算法
<ul class="org-ul">
<li>Grokking Algorithms <sup><a id="fnr.7" class="footref" href="#fn.7">7</a></sup></li>
</ul></li>
<li>ML/AI
<ul class="org-ul">
<li><a href="http://www.cs.cmu.edu/~tom/">http://www.cs.cmu.edu/~tom/</a></li>
<li><a href="https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-034-artificial-intelligence-fall-2010/">MIT AI 课程(可点击)</a></li>
</ul></li>
<li>分布式
<ul class="org-ul">
<li><a href="http://www.scs.stanford.edu/17au-cs244b/">http://www.scs.stanford.edu/17au-cs244b/</a></li>
<li><a href="https://pdos.csail.mit.edu/6.824/schedule.html">https://pdos.csail.mit.edu/6.824/schedule.html</a></li>
</ul></li>
<li>编程语言
<ul class="org-ul">
<li>7 周 7 语言</li>
<li>The little schemer</li>
<li><a href="http://cis.upenn.edu/~cis194/fall16/">http://cis.upenn.edu/~cis194/fall16/</a></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org77158c0" class="outline-3">
<h3 id="org77158c0"><span class="section-number-3">7.7</span> 交流</h3>
<div class="outline-text-3" id="text-7-7">
<ul class="org-ul">
<li>总结</li>
<li>分享</li>
</ul>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">不是容易, 容易对于环境，人，问题领域的复杂度都有要求。简单，而不是容易</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara">一个系统, 主要就是 <code>对外体现</code>, <code>对内组件</code>, <code>组件间关系</code> . 架构，就是对这个系统的抽象描述.</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3">3</a></sup> <div class="footpara"><p class="footpara">提炼出业务系统中, 与业务不太相关, 更共性的那一面.</p></div></div>

<div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4">4</a></sup> <div class="footpara"><p class="footpara">这一点在我来看更依赖通用能力和经验积累</p></div></div>

<div class="footdef"><sup><a id="fn.5" class="footnum" href="#fnr.5">5</a></sup> <div class="footpara"><p class="footpara">不同的看问题分析问题的角度</p></div></div>

<div class="footdef"><sup><a id="fn.6" class="footnum" href="#fnr.6">6</a></sup> <div class="footpara"><p class="footpara">再比如, <code>udp 协议栈</code>, <code>解释器</code> &#x2026;</p></div></div>

<div class="footdef"><sup><a id="fn.7" class="footnum" href="#fnr.7">7</a></sup> <div class="footpara"><p class="footpara">推荐一本书能理解就足够了, 这个 <code>容易读一些</code></p></div></div>


</div>
</div>
    </div>
</section>
]]></description>
      <pubDate>2020-07-24</pubDate>
      <guid>http://enzo-liu.github.io/blog/2019/10/09/专业工程师的特质/</guid>
    </item>
    <item>
      <title>浅述Hbase的设计与实现</title>
      <link>http://enzo-liu.github.io/blog/2020/05/25/浅述hbase的设计与实现/</link>
      <description><![CDATA[<section id="content" role="main">
    <div id="outline-container-sec-" class="row" style="padding-top: 70px">
        <div class="col-md-2"></div>
            <h1>浅述Hbase的设计与实现</h1>
            <div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org046d3a9">1. 议程与目的</a>
<ul>
<li><a href="#org58af7d0">1.1. 分享目的</a></li>
</ul>
</li>
<li><a href="#orge47576b">2. Hbase 的演进</a>
<ul>
<li><a href="#org9fe563b">2.1. BigTable</a></li>
<li><a href="#orgd926d36">2.2. 为什么需要</a></li>
<li><a href="#orgc09ed03">2.3. 主要的门槛</a></li>
</ul>
</li>
<li><a href="#org2c805b0">3. hbase 的设计</a>
<ul>
<li><a href="#org57fccb8">3.1. 索引与检索 I</a></li>
<li><a href="#org03d66f7">3.2. 索引与检索 II</a></li>
<li><a href="#orgee985f3">3.3. 索引与检索 III</a></li>
<li><a href="#org307f581">3.4. 大数据(partition/sharding) I</a></li>
<li><a href="#org3776450">3.5. 大数据(partition/sharding) II</a></li>
<li><a href="#orge0c3267">3.6. 强一致性</a></li>
<li><a href="#org65c8f15">3.7. 故障转移</a></li>
<li><a href="#orgbd1c88d">3.8. 横向扩容/自动伸缩/load balancing</a></li>
<li><a href="#org5e94ee3">3.9. compact</a></li>
<li><a href="#org1671b32">3.10. row level acid I</a></li>
<li><a href="#orga22c781">3.11. row level acid II</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org046d3a9" class="outline-2">
<h2 id="org046d3a9"><span class="section-number-2">1</span> 议程与目的</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org58af7d0" class="outline-3">
<h3 id="org58af7d0"><span class="section-number-3">1.1</span> 分享目的</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>以系统的视角，推测 hbase 的设计决策</li>
<li>全局对 hbase 的特性有一定的了解</li>
<li>不深入具体特性的实现</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orge47576b" class="outline-2">
<h2 id="orge47576b"><span class="section-number-2">2</span> Hbase 的演进</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org9fe563b" class="outline-3">
<h3 id="org9fe563b"><span class="section-number-3">2.1</span> BigTable</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Bigtable, a <b>distributed system</b> for <b>storing structured data</b> at Google. Bigtable clusters have been in production use since April 2005, and we spent roughly seven person-years on design and implementation before that date.
</p>

<p>
Our users like the <b>performance</b> and <b>high availability</b> provided by the Bigtable implementation, and that they can <b>scale the capacity of their clusters by simply adding more machines</b> to the system as their resource demands change over time.
</p>
</div>
</div>

<div id="outline-container-orgd926d36" class="outline-3">
<h3 id="orgd926d36"><span class="section-number-3">2.2</span> 为什么需要</h3>
<div class="outline-text-3" id="text-2-2">
<blockquote>
<p>
可自动伸缩的，分布式的，简易版本的 mysql
</p>
</blockquote>

<ul class="org-ul">
<li>类比于文件系统与数据库
<ul class="org-ul">
<li>提供快速的记录检索能力</li>
<li>(小)记录级别的索引对于文件系统压力过大, 不符合块存储的读写设计</li>
</ul></li>
<li>类比于文件系统(ext3, ext4&#x2026;)与 hdfs
<ul class="org-ul">
<li>数据量大, 单机无法存储/处理(或成本过高)</li>
<li>机器多, 易故障</li>
</ul></li>
<li>强一致性</li>
</ul>
</div>
</div>

<div id="outline-container-orgc09ed03" class="outline-3">
<h3 id="orgc09ed03"><span class="section-number-3">2.3</span> 主要的门槛</h3>
<div class="outline-text-3" id="text-2-3">
<blockquote>
<p>
性能, 横向扩展能力
</p>
</blockquote>

<ul class="org-ul">
<li>大数据量下的快速的记录级别检索能力</li>
<li>大数据量下的持续的读写性能(写多读少)</li>
<li>故障转移与恢复</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org2c805b0" class="outline-2">
<h2 id="org2c805b0"><span class="section-number-2">3</span> hbase 的设计</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org57fccb8" class="outline-3">
<h3 id="org57fccb8"><span class="section-number-3">3.1</span> 索引与检索 I</h3>
<div class="outline-text-3" id="text-3-1">
</div>
<ol class="org-ol">
<li><a id="org4b51c00"></a>基于排序<br />
<div class="outline-text-4" id="text-3-1-1">
<ul class="org-ul">
<li>B+ tree (mysql)
<ol class="org-ol">
<li>可靠性保证, 读写直接发生在文件系统</li>
<li>读写均保持较高的性能
<ol class="org-ol">
<li>检索读的 io 次数 (多叉，降低树高度)</li>
<li>扫描读的 RangeQuery (叶子节点的链表结构)</li>
<li>随机写入, 依赖磁盘的 iops</li>
</ol></li>
</ol></li>

<li><b>LSM tree (hbase)</b>
<ol class="org-ol">
<li>更高效的写入 (delayed batch write)</li>
<li>略低效的读取 (multi tree merge)</li>
</ol></li>
</ul>
</div>
</li>
</ol>
</div>

<div id="outline-container-org03d66f7" class="outline-3">
<h3 id="org03d66f7"><span class="section-number-3">3.2</span> 索引与检索 II</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<ol class="org-ol">
<li><a id="orgcbf4caa"></a>基于 Hash<br />
<div class="outline-text-4" id="text-3-2-1">
<ul class="org-ul">
<li>Hash
<ul class="org-ul">
<li>范围/排序的读性能差</li>
<li>O(1) 的读写</li>
</ul></li>
</ul>
</div>
</li>
</ol>
</div>


<div id="outline-container-orgee985f3" class="outline-3">
<h3 id="orgee985f3"><span class="section-number-3">3.3</span> 索引与检索 III</h3>
<div class="outline-text-3" id="text-3-3">
</div>
<ol class="org-ol">
<li><a id="org21c9621"></a>物理存储<br />
<div class="outline-text-4" id="text-3-3-1">
<ul class="org-ul">
<li>HRegion 1 - * HStore (ColumnFamily)</li>
<li>HStore 1 - * HFile</li>
<li>HStore 1 - 1 MemStore</li>
<li>HFile = IndexBlock + DataBlock</li>
<li>get in HFile = binary search IndexBlock + traverse DataBlock</li>
<li>get in MemStore = get in ConcurrentSkipListMap</li>
</ul>
</div>
</li>
</ol>
</div>

<div id="outline-container-org307f581" class="outline-3">
<h3 id="org307f581"><span class="section-number-3">3.4</span> 大数据(partition/sharding) I</h3>
<div class="outline-text-3" id="text-3-4">
<ul class="org-ul">
<li>row &lt;-&gt; node
<ul class="org-ul">
<li>路由信息太大</li>
</ul></li>

<li>hash partition (cassandra)
<ul class="org-ul">
<li>故障情况下的迁移/恢复
<ul class="org-ul">
<li>会产生 rehash / hash &lt;-&gt; node 关系的变化</li>
</ul></li>
<li>扩容缩容
<ul class="org-ul">
<li>类似故障情况</li>
</ul></li>
<li>一致性 hash 
<ul class="org-ul">
<li>需维护逻辑上的桶和物理上的 server 的映射关系</li>
<li>算法决定<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>/mapping 信息决定(存储)
<ul class="org-ul">
<li>mapping: node &lt;-&gt; virtual node</li>
<li>本质上也是 range-partition</li>
</ul></li>
</ul></li>
<li>对区间扫描支持差</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org3776450" class="outline-3">
<h3 id="org3776450"><span class="section-number-3">3.5</span> 大数据(partition/sharding) II</h3>
<div class="outline-text-3" id="text-3-5">
<ul class="org-ul">
<li>range partition
<ul class="org-ul">
<li>路由信息较小, partition(range) &lt;-&gt; nodes</li>
<li>对区间扫描支持较好</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orge0c3267" class="outline-3">
<h3 id="orge0c3267"><span class="section-number-3">3.6</span> 强一致性</h3>
<div class="outline-text-3" id="text-3-6">
<ul class="org-ul">
<li>single writer
<ul class="org-ul">
<li>简单</li>
</ul></li>
<li>multiple writer
<ul class="org-ul">
<li>参考 zk, paxos/raft, etcd</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org65c8f15" class="outline-3">
<h3 id="org65c8f15"><span class="section-number-3">3.7</span> 故障转移</h3>
<div class="outline-text-3" id="text-3-7">
<ul class="org-ul">
<li>range 为管理的逻辑单元/存储的物理单元</li>
<li>物理存储利用 hdfs 的高可用</li>
<li>仅需移动管理单元
<ul class="org-ul">
<li>wal log</li>
<li>replay memstore change
<ul class="org-ul">
<li><b>定期 flush memstore, 控制故障恢复时间</b></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgbd1c88d" class="outline-3">
<h3 id="orgbd1c88d"><span class="section-number-3">3.8</span> 横向扩容/自动伸缩/load balancing</h3>
<div class="outline-text-3" id="text-3-8">
<ul class="org-ul">
<li>split, 增加逻辑管理单元(Region)</li>
<li>move, 将 Region 移动至新增服务器</li>
</ul>
</div>
</div>

<div id="outline-container-org5e94ee3" class="outline-3">
<h3 id="org5e94ee3"><span class="section-number-3">3.9</span> compact</h3>
<div class="outline-text-3" id="text-3-9">
<ul class="org-ul">
<li>LSM Tree
<ul class="org-ul">
<li>分级存储, memory as buffer to delay flush to disk</li>
<li>每个文件为有序存储, 读需要做多路查找合并</li>
<li>为提高读性能, 需要 compact</li>
</ul></li>
<li>compact 的两种思路
<ul class="org-ul">
<li>flush 时, 直接读已刷写的磁盘文件，归并排序成一个大文件
<ul class="org-ul">
<li>写放大</li>
</ul></li>
<li>flush 后, 基于文件决定如何合并
<ul class="org-ul">
<li>可控一些的写放大</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org1671b32" class="outline-3">
<h3 id="org1671b32"><span class="section-number-3">3.10</span> row level acid I</h3>
<div class="outline-text-3" id="text-3-10">
<ul class="org-ul">
<li>write write synchronization
<ul class="org-ul">
<li>single writer (JVM/RS)</li>
<li>rowlock</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orga22c781" class="outline-3">
<h3 id="orga22c781"><span class="section-number-3">3.11</span> row level acid II</h3>
<div class="outline-text-3" id="text-3-11">
<ul class="org-ul">
<li>read write synchronization
<ul class="org-ul">
<li>single writer (JVM/RS)</li>
<li>read-your-own-writes consistency<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup></li>
<li>mvcc/rowlock
<ul class="org-ul">
<li>mvcc 
<ul class="org-ul">
<li>read point = largest write point where all early point commits</li>
<li>reader get current read point, ignore all writes after</li>
<li>writer <span class="underline">commits</span> when done write</li>
<li>writer only <span class="underline">finish</span> <b>when all early writer commits</b>
<ul class="org-ul">
<li>read point &gt;= this write number</li>
<li>ensure next read will read this write</li>
</ul></li>
</ul></li>
<li>rowlock: reader and writer compete for rowlock</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">也需要同步比如节点数，序号等信息，或者基于约定提前分配</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara">读到自己的写; 不读到未提交的写; 读数据的一致性</p></div></div>


</div>
</div>
    </div>
</section>
]]></description>
      <pubDate>2020-07-24</pubDate>
      <guid>http://enzo-liu.github.io/blog/2020/05/25/浅述hbase的设计与实现/</guid>
    </item>
    <item>
      <title>如何设计一个业务系统</title>
      <link>http://enzo-liu.github.io/blog/2018/06/04/如何设计一个业务系统/</link>
      <description><![CDATA[<section id="content" role="main">
    <div id="outline-container-sec-" class="row" style="padding-top: 70px">
        <div class="col-md-2"></div>
            <h1>如何设计一个业务系统</h1>
            <div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org90fbfe1">1. 本文的目的</a></li>
<li><a href="#org20ad8b0">2. 背景</a></li>
<li><a href="#org97a69f3">3. 设计的目的</a></li>
<li><a href="#org3b32392">4. 如何设计</a>
<ul>
<li><a href="#orgd270741">4.1. 原始需求分析</a></li>
<li><a href="#org55f6370">4.2. 用户场景 &amp;&amp; 场景分析</a></li>
<li><a href="#org5e84f2a">4.3. 系统概要设计</a></li>
<li><a href="#org673d307">4.4. 模块内部设计</a></li>
<li><a href="#orgd11161f">4.5. 任务分解</a></li>
</ul>
</li>
<li><a href="#org216f806">5. 案例分析</a>
<ul>
<li><a href="#orgffe731b">5.1. 票务系统设计</a></li>
<li><a href="#org6b8c9eb">5.2. 拼团</a>
<ul>
<li><a href="#org82f64de">5.2.1. 拼团需求分析</a></li>
<li><a href="#org92f4ad9">5.2.2. 拼团用户场景</a></li>
<li><a href="#org2cea901">5.2.3. 拼团场景分析</a></li>
<li><a href="#orgbab4501">5.2.4. 拼团系统概要设计</a></li>
<li><a href="#org84779b8">5.2.5. 拼团模块内部设计</a></li>
<li><a href="#orgdfb01dc">5.2.6. 拼团任务分解</a></li>
</ul>
</li>
<li><a href="#orge99faf1">5.3. 套票</a>
<ul>
<li><a href="#orgaf114e6">5.3.1. TODO: 补充完成设计文档</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org90fbfe1" class="outline-2">
<h2 id="org90fbfe1"><span class="section-number-2">1</span> 本文的目的</h2>
<div class="outline-text-2" id="text-1">
<ol class="org-ol">
<li>希望能对设计过程有一个整体的概念</li>
<li>希望能够参照这个过程，完成一些简单的业务系统设计</li>
<li>本文重点针对于业务系统设计和分析。不太涉及系统设计的其他方面，如性能，可靠，可见等等。</li>
</ol>

<p>
PS:
</p>
<ul class="org-ul">
<li>也希望业务系统设计不再会是个人发展的瓶颈</li>
</ul>
</div>
</div>

<div id="outline-container-org20ad8b0" class="outline-2">
<h2 id="org20ad8b0"><span class="section-number-2">2</span> 背景</h2>
<div class="outline-text-2" id="text-2">
<p>
现阶段，对人员的需求已经不再是能有一个简单的需求把做出来。更可能是能独立承接一个有点复杂的需求。比如拼团，比如加速包, 比如套票。有一个略微复杂的流程，有更多的场景，涉及到更多的状态和角色和交互。
</p>

<p>
在这种情况下，按照以往直接想想就开始做的方式，已经很难得心应手的把东西做出来了。经常会遇到:
</p>
<ul class="org-ul">
<li>做了一半，感觉好像不太对</li>
<li>写着写着写不下去了</li>
<li>怎么写都有些地方考虑不周到</li>
</ul>

<p>
在我来看，缺的就是一个设计的过程:
</p>
<ul class="org-ul">
<li>如何在不同的角度去分析这个需求</li>
<li>如何将一个复杂的问题拆解成几个更小的子问题</li>
<li>如何将一个不是很复杂的子问题落实到模块/代码中</li>
</ul>

<p>
过去也会写好一个设计文档, 再和大家去讲, 但是效果感觉并没有很好。借着这次拼团的系统，希望能把这个过程剖析的更具体一些, 看看是否能给大家更多的助益。
</p>
</div>
</div>

<div id="outline-container-org97a69f3" class="outline-2">
<h2 id="org97a69f3"><span class="section-number-2">3</span> 设计的目的</h2>
<div class="outline-text-2" id="text-3">
<p>
<b>为什么要设计?</b>,
</p>
<ul class="org-ul">
<li>因为不设计已经做不下去了。</li>
</ul>

<p>
评估一个设计的好坏，就看能否清晰的表达出 <b>要做什么</b> ， <b>怎么做</b> ， <b>为什么要这么做</b> 。
</p>

<p>
<b>为什么要详细的设计?</b>, 在用户流程，模块，复杂对象的生命周期等不同的维度分别做设计。
</p>
<ul class="org-ul">
<li>因为脑力有限，无法同时关注这么多的细节，所以要分层，要分离不同的关注点。在不同的层面上去关注不同的具体的事情。</li>
</ul>

<p>
一句话来衡量: <b>设计就是让一个看起来不太可能能做好的东西变的很显然能做好</b>
</p>
</div>
</div>

<div id="outline-container-org3b32392" class="outline-2">
<h2 id="org3b32392"><span class="section-number-2">4</span> 如何设计</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orgd270741" class="outline-3">
<h3 id="orgd270741"><span class="section-number-3">4.1</span> 原始需求分析</h3>
<div class="outline-text-3" id="text-4-1">
<p>
划重点: 不关心系统，不关心当前是什么样，不关心有哪些模块。只关心一点:  <b>系统对外体现是什么样</b>. (对外并不仅仅指对外的用户视图。只要是外部能观测到的，都是系统的对外体现)
</p>

<p>
这一阶段，关注的就是系统整体对外的承诺。到底要做什么。
</p>

<ul class="org-ul">
<li>拼团案例 <a href="#org82f64de">5.2.1</a></li>
</ul>
</div>
</div>

<div id="outline-container-org55f6370" class="outline-3">
<h3 id="org55f6370"><span class="section-number-3">4.2</span> 用户场景 &amp;&amp; 场景分析</h3>
<div class="outline-text-3" id="text-4-2">
<p>
这一步，主要目的是把对外承诺细化。看看会有哪些不同的流程, 不同的场景。
</p>

<p>
常见的分析方法就是: 有哪些用户，哪些角色，分别关注哪些数据，数据流或者操作流大约是是什么样的。
</p>

<p>
比较常见的展示工具就是时序图了。
</p>

<p>
这一阶段, 关注的就是对外承诺的详细信息，对内会涉及到哪些场景和状态。从而可以分析出，内部需要哪些模块，如何配合。
</p>

<ul class="org-ul">
<li>拼团案例 <a href="#org92f4ad9">5.2.2</a></li>
</ul>
</div>
</div>

<div id="outline-container-org5e84f2a" class="outline-3">
<h3 id="org5e84f2a"><span class="section-number-3">4.3</span> 系统概要设计</h3>
<div class="outline-text-3" id="text-4-3">
<p>
在这个阶段，主要的工作是，基于上文中的具体场景，分析出需要 <b>哪些模块</b> 来承载各自的功能，如何配合。
</p>

<p>
我认为，这个也是从需求到落实最关键的一步。因为在这里，需要划定 <b>模块的职责和边界</b>, 以及, 如何通过这些职责，组织出所需要的功能。
</p>

<p>
常见的分析方法也一样是，基于上文中的系统需要提供的功能，如何分解让各个模块配合实现。
</p>

<p>
PS: 模块的拆分是一个迭代的过程(玄学)，一般是先分，然后看模块间交互，然后调整。满意为止&#x2026;
</p>

<p>
除了模块拆分以外，还有一些重点问题可以单独拿出来放在这个模块讨论。
</p>

<ul class="org-ul">
<li>拼团案例 <a href="#orgbab4501">5.2.4</a></li>
</ul>
</div>
</div>

<div id="outline-container-org673d307" class="outline-3">
<h3 id="org673d307"><span class="section-number-3">4.4</span> 模块内部设计</h3>
<div class="outline-text-3" id="text-4-4">
<p>
具体方法其实类似，但是需要更多考虑一点， <b>如何用内部不可见的存储/状态，去实现外部的行为或者感知</b> 。
</p>

<ul class="org-ul">
<li>拼团案例 <a href="#org84779b8">5.2.5</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgd11161f" class="outline-3">
<h3 id="orgd11161f"><span class="section-number-3">4.5</span> 任务分解</h3>
<div class="outline-text-3" id="text-4-5">
<p>
在这里，更多是从一个这个业务需求的负责人角度，来看，需要哪些地方有工作，哪些工作，如何分解，如何跟踪。让整体的业务需求更可控。
</p>

<ul class="org-ul">
<li>拼团案例 <a href="#orgdfb01dc">5.2.6</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org216f806" class="outline-2">
<h2 id="org216f806"><span class="section-number-2">5</span> 案例分析</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgffe731b" class="outline-3">
<h3 id="orgffe731b"><span class="section-number-3">5.1</span> 票务系统设计</h3>
<div class="outline-text-3" id="text-5-1">
<p>
整体内容相对完善一些，供参考:
<a href="http://git.pn.com/piaoniu/piaoniu.wiki/blob/master/%E8%AE%BE%E8%AE%A1%E6%96%87%E6%A1%A3/ticket-system.pdf">票务系统设计文档下载</a>
</p>
</div>
</div>


<div id="outline-container-org6b8c9eb" class="outline-3">
<h3 id="org6b8c9eb"><span class="section-number-3">5.2</span> 拼团</h3>
<div class="outline-text-3" id="text-5-2">
</div>
<div id="outline-container-org82f64de" class="outline-4">
<h4 id="org82f64de"><span class="section-number-4">5.2.1</span> 拼团需求分析</h4>
<div class="outline-text-4" id="text-5-2-1">
<ul class="org-ul">
<li>商家能创建/参与拼团活动</li>
<li>op 能审核&amp;发布该拼团活动</li>
<li>当拼团活动发布之后，符合一定的标准，用户可以在商品详情页看到</li>
<li>用户可以发起或者参加某个团</li>
<li>团符合成功标准，则拼团成功。超时未符合，则拼团失败</li>
<li>拼团成功，则用户购买成功。失败，则退款</li>
<li>购买成功后，用户能看到订单, 能看到后续的发货流程，正常消费。</li>
<li>如果拼团成功，但是超卖，可能也需要退款</li>
</ul>
</div>
</div>


<div id="outline-container-org92f4ad9" class="outline-4">
<h4 id="org92f4ad9"><span class="section-number-4">5.2.2</span> 拼团用户场景</h4>
<div class="outline-text-4" id="text-5-2-2">
<ul class="org-ul">
<li>商家
<ul class="org-ul">
<li>创建拼团活动</li>
<li>修改拼团活动内容</li>
<li>查看拼团活动审核情况</li>
</ul></li>
<li>管理人员
<ul class="org-ul">
<li>审核拼团活动</li>
<li>驳回拼团活动</li>
</ul></li>
<li>用户
<ul class="org-ul">
<li>基于项目查看拼团活动</li>
<li>创建一个拼团</li>
<li>参与一个拼团</li>
<li>查看拼团进度</li>
<li>拼团成功后查看订单，消费票券</li>
<li>拼团失败后退款</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org2cea901" class="outline-4">
<h4 id="org2cea901"><span class="section-number-4">5.2.3</span> 拼团场景分析</h4>
<div class="outline-text-4" id="text-5-2-3">
<ul class="org-ul">
<li><p>
商家创建拼团活动
</p>


<div class="figure">
<p><img src="/assets/blog/2018/06/04/如何设计一个业务系统/merchant-tuan-campaign.png" alt="/assets/blog/2018/06/04/如何设计一个业务系统/merchant-tuan-campaign.png" />
</p>
</div></li>

<li><p>
用户创建拼团
</p>


<div class="figure">
<p><img src="/assets/blog/2018/06/04/如何设计一个业务系统/user-tuan.png" alt="/assets/blog/2018/06/04/如何设计一个业务系统/user-tuan.png" />
</p>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgbab4501" class="outline-4">
<h4 id="orgbab4501"><span class="section-number-4">5.2.4</span> 拼团系统概要设计</h4>
<div class="outline-text-4" id="text-5-2-4">
</div>
<ol class="org-ol">
<li><a id="org64bdd81"></a>重点概念解释<br />
<div class="outline-text-5" id="text-5-2-4-1">
<ul class="org-ul">
<li><p>
拼团活动
</p>

<p>
制作领域的概念，包含参与拼团活动的项目，场次，票档，拼团价格，结算价格，有效期，是否公开等信息
</p></li>

<li><p>
团
</p>

<p>
第一个拼团订单创建完成，会生成一个团。用于承载拼团动作的结果
</p></li>

<li><p>
拼团订单
</p>

<p>
用于承载针对某个团的参与动作，以及支付行为, 驱动后续的订单生成等
</p></li>
</ul>
</div>
</li>

<li><a id="org71e41ca"></a>模块划分<br />
<div class="outline-text-5" id="text-5-2-4-2">
<ul class="org-ul">
<li>拼团活动模块
<ul class="org-ul">
<li>负责拼团活动的创建，审核，发布功能</li>
<li>负责拼团活动的查询</li>
</ul></li>

<li>拼团模块
<ul class="org-ul">
<li>负责拼团的创建</li>
<li>负责参团</li>
<li>负责拼团的信息查询</li>
<li>负责拼团状态的维护，包含拼团成功，超时失败等</li>
<li>负责拼团成功后对应订单的创建</li>
<li>负责可能的超卖后的退款处理</li>
</ul></li>

<li>支付模块
<ul class="org-ul">
<li>负责拼团订单的支付</li>
<li>负责拼团订单的退款</li>
</ul></li>

<li>订单模块
<ul class="org-ul">
<li>负责拼团订单对应的商品按照指定价格和结算价进行下单</li>
</ul></li>
</ul>
</div>
</li>
</ol>
</div>

<div id="outline-container-org84779b8" class="outline-4">
<h4 id="org84779b8"><span class="section-number-4">5.2.5</span> 拼团模块内部设计</h4>
<div class="outline-text-4" id="text-5-2-5">
</div>
<ol class="org-ol">
<li><a id="orgd585f87"></a>拼团活动模块<br />
<div class="outline-text-5" id="text-5-2-5-1">
<ol class="org-ol">
<li>与外部模块关系
<ul class="org-ul">
<li>提供拼团的定价和结算信息给拼团模块</li>
<li>根据项目，提供审核通过的拼团活动的详细信息，用于演出模块展示拼团活动和最低拼团价</li>
</ul></li>
<li>内部逻辑
<ul class="org-ul">
<li>同一个项目，选择不同的票档参与拼团，设置拼团价格和库存</li>
<li>拼团活动以项目为维度，可以审核通过或者驳回</li>
<li>可以设置开始时间和结束时间</li>
<li>如果考虑到一定的灵活性，审核的维度可以到票档。</li>
<li>保证最终成团的售卖数量不超过拼团活动设置的最大库存
<ul class="org-ul">
<li>倘若超卖，则支付成功，购买失败，做退款。产品上需有说明</li>
<li>若拼团成功 3 单，其中 2 单有库存，一单超卖失败, 则仅退款一单</li>
<li>可以是判断是否当前团的最后一个团员,如果是，那么提交订单时就锁定整个团的库存, 如果不是，那么提交订单时不锁定整个团的库存</li>
</ul></li>
</ul></li>
<li>外部接口
<ol class="org-ol">
<li>创建拼团活动</li>
<li>更新拼团活动</li>
<li>拼团活动审核</li>
<li>根据项目 ID，查询拼团信息(支持是否过滤 shopId)
<ol class="org-ol">
<li>一个商家一个项目多个票档，叫做一个拼团活动</li>
<li>一个项目可能会有多个拼团活动，选择其中拼团价最低的有库存的票档用于展示</li>
<li>如果有 shopId 的过滤条件，只查询指定 shopId 的拼团活动</li>
</ol></li>
<li>批量根据项目 ID，查询拼团信息(支持是否过滤 shopId)</li>
<li>根据拼团活动票档 Id, 查询结算价和数量</li>
</ol></li>

<li><p>
模型设计
</p>
<ul class="org-ul">
<li>PinTuanCampaign</li>
</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">字段名</td>
<td class="org-left">字段类型</td>
<td class="org-left">字段含义</td>
</tr>

<tr>
<td class="org-left">-</td>
<td class="org-left">-</td>
<td class="org-left">-</td>
</tr>

<tr>
<td class="org-left">id</td>
<td class="org-left">int</td>
<td class="org-left">主键 ID</td>
</tr>

<tr>
<td class="org-left">effectiveFrom</td>
<td class="org-left">Date</td>
<td class="org-left">拼团活动开始时间</td>
</tr>

<tr>
<td class="org-left">effectiveTo</td>
<td class="org-left">Date</td>
<td class="org-left">拼团活动结束时间</td>
</tr>

<tr>
<td class="org-left">status</td>
<td class="org-left">int</td>
<td class="org-left">拼团活动状态，已提交，已驳回, 已发布</td>
</tr>

<tr>
<td class="org-left">isOpen</td>
<td class="org-left">int</td>
<td class="org-left">是否公开</td>
</tr>

<tr>
<td class="org-left">activityId</td>
<td class="org-left">int</td>
<td class="org-left">演出 ID</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>PinTuanCampaignItem</li>
</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">字段名</td>
<td class="org-left">字段类型</td>
<td class="org-left">字段含义</td>
</tr>

<tr>
<td class="org-left">-</td>
<td class="org-left">-</td>
<td class="org-left">-</td>
</tr>

<tr>
<td class="org-left">id</td>
<td class="org-left">int</td>
<td class="org-left">主键 ID</td>
</tr>

<tr>
<td class="org-left">pinTuanCampaignId</td>
<td class="org-left">int</td>
<td class="org-left">拼团活动 ID</td>
</tr>

<tr>
<td class="org-left">ticketCategoryId</td>
<td class="org-left">int</td>
<td class="org-left">票档 Id</td>
</tr>

<tr>
<td class="org-left">activityEventId</td>
<td class="org-left">int</td>
<td class="org-left">场次 Id</td>
</tr>

<tr>
<td class="org-left">salePrice</td>
<td class="org-left">int</td>
<td class="org-left">拼团活动售价</td>
</tr>

<tr>
<td class="org-left">count</td>
<td class="org-left">int</td>
<td class="org-left">拼团活动总库存</td>
</tr>

<tr>
<td class="org-left">status</td>
<td class="org-left">int</td>
<td class="org-left">票档审核状态, 未通过，已通过</td>
</tr>

<tr>
<td class="org-left">sellStatus</td>
<td class="org-left">int</td>
<td class="org-left">票档售卖状态，开启，关闭</td>
</tr>
</tbody>
</table></li>

<li>拼团活动审核的维度
<ol class="org-ol">
<li>基于票档/基于项目/基于项目当前未审核通过的部分</li>
</ol></li>
<li>拼团活动票档的修改
<ol class="org-ol">
<li>一旦审批通过后，不可以修改拼团价格</li>
<li>关闭状态下，可以调整库存</li>
</ol></li>
<li>拼团活动如何保证(尽量)不超卖
<ol class="org-ol">
<li>在参团下单前，校验一次已参团人员的库存情况，如果库存不足，则不允许新团员参团</li>
</ol></li>
</ol>
</div>
</li>

<li><a id="org80ef695"></a>拼团模块<br />
<div class="outline-text-5" id="text-5-2-5-2">
<ol class="org-ol">
<li>与外部模块关系
<ul class="org-ul">
<li>成团后，驱动生成对应订单</li>
<li>支付拼团</li>
<li>拼团失败后，退款</li>
</ul></li>
<li>内部逻辑
<ul class="org-ul">
<li>创建拼团/参团订单，校验拼团商品价格</li>
<li>支付拼团订单，创建拼团</li>
<li>支付参团订单，参与拼团</li>
<li>拼团超时未成功, 自动退款</li>
<li>参团达到标准，拼团成功</li>
<li>如果超卖，拼团订单退款</li>
</ul></li>
<li>外部接口
<ol class="org-ol">
<li>创建拼团订单(包含发起团和参与团)</li>
<li>查看拼团订单详情</li>
<li>查看团的详情</li>
</ol></li>

<li><p>
模型设计
</p>
<ul class="org-ul">
<li>Tuan</li>
</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">字段名</td>
<td class="org-left">字段类型</td>
<td class="org-left">字段含义</td>
</tr>

<tr>
<td class="org-left">-</td>
<td class="org-left">-</td>
<td class="org-left">-</td>
</tr>

<tr>
<td class="org-left">id</td>
<td class="org-left">int</td>
<td class="org-left">团 ID</td>
</tr>

<tr>
<td class="org-left">ownerId</td>
<td class="org-left">int</td>
<td class="org-left">创建团的人</td>
</tr>

<tr>
<td class="org-left">status</td>
<td class="org-left">int</td>
<td class="org-left">拼团状态</td>
</tr>

<tr>
<td class="org-left">addTime</td>
<td class="org-left">Date</td>
<td class="org-left">团的创建时间</td>
</tr>

<tr>
<td class="org-left">expireTime</td>
<td class="org-left">Date</td>
<td class="org-left">团的有效期</td>
</tr>

<tr>
<td class="org-left">requiredNum</td>
<td class="org-left">int</td>
<td class="org-left">成团订单数量要求</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>PinTuanOrder</li>
</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">字段名</td>
<td class="org-left">字段类型</td>
<td class="org-left">字段含义</td>
</tr>

<tr>
<td class="org-left">-</td>
<td class="org-left">-</td>
<td class="org-left">-</td>
</tr>

<tr>
<td class="org-left">id</td>
<td class="org-left">int</td>
<td class="org-left">拼团订单 ID</td>
</tr>

<tr>
<td class="org-left">payStatus</td>
<td class="org-left">int</td>
<td class="org-left">支付状态, 待支付，已支付，已退款</td>
</tr>

<tr>
<td class="org-left">tuanId</td>
<td class="org-left">int</td>
<td class="org-left">团的 Id</td>
</tr>

<tr>
<td class="org-left">userId</td>
<td class="org-left">int</td>
<td class="org-left">拼团订单的用户</td>
</tr>

<tr>
<td class="org-left">count</td>
<td class="org-left">int</td>
<td class="org-left">购买数量</td>
</tr>

<tr>
<td class="org-left">salePrice</td>
<td class="org-left">int</td>
<td class="org-left">拼团价格</td>
</tr>
</tbody>
</table></li>

<li>TODO: 如何自动分配选座订单的座位</li>
<li>TODO: 如何保证驱动生成订单动作的幂等</li>
</ol>
</div>
</li>
</ol>
</div>

<div id="outline-container-orgdfb01dc" class="outline-4">
<h4 id="orgdfb01dc"><span class="section-number-4">5.2.6</span> 拼团任务分解</h4>
<div class="outline-text-4" id="text-5-2-6">
<ul class="org-ul">
<li>商家后台
<ul class="org-ul">
<li>拼团活动列表页</li>
<li>拼团活动详情页</li>
<li>拼团活动列表页接口</li>
<li>拼团活动详情页接口</li>
</ul></li>
<li>op 后台
<ul class="org-ul">
<li>拼团活动列表表</li>
<li>拼团活动详情页</li>
<li>拼团活动列表接口</li>
<li>拼团活动详情接口</li>
<li>拼团活动审核接口</li>
<li>拼团首页运营位配置</li>
</ul></li>
<li>android &amp;&amp; ios
<ul class="org-ul">
<li>项目详情页拼团入口展示</li>
<li>商家项目详情页拼团入口展示</li>
<li>首页拼团运营位展示</li>
<li>商家列表页 &amp;&amp; 列表页拼团价格展示</li>
<li>个人中心增加拼团订单的入口</li>
</ul></li>
<li>m 站用户侧发起/参加拼团
<ul class="org-ul">
<li>项目的拼团活动入口</li>
<li>拼团详情分享</li>
<li>拼团详情页面(各种状态和操作参考 PRD)</li>
<li>项目的拼团活动查询接口</li>
<li>拼团详情接口</li>
<li>TODO: 拼团项目的场次和票档以及库存查询接口</li>
<li>拼团确认订单页面</li>
<li>拼团下单接口</li>
<li>拼团支付</li>
<li>拼团订单详情页</li>
<li>个人中心增加拼团订单的入口</li>
</ul></li>

<li>拼团活动服务
<ul class="org-ul">
<li>拼团活动创建，更新，提交，审核，发布接口</li>
<li>拼团活动信息查询接口</li>
</ul></li>
<li>拼团服务
<ul class="org-ul">
<li>拼团创建接口</li>
<li>拼团参加接口</li>
<li>拼团成功创建订单</li>
<li>拼团超时未成功自动退款</li>
<li>拼团超卖?</li>
</ul></li>
<li>订单服务
<ul class="org-ul">
<li>TODO: 能够根据指定的商品售价创建拼团成功后的订单</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orge99faf1" class="outline-3">
<h3 id="orge99faf1"><span class="section-number-3">5.3</span> 套票</h3>
<div class="outline-text-3" id="text-5-3">
</div>
<div id="outline-container-orgaf114e6" class="outline-4">
<h4 id="orgaf114e6"><span class="section-number-4">5.3.1</span> TODO: 补充完成设计文档</h4>
</div>
</div>
</div>

    </div>
</section>
]]></description>
      <pubDate>2020-07-24</pubDate>
      <guid>http://enzo-liu.github.io/blog/2018/06/04/如何设计一个业务系统/</guid>
    </item>
    <item>
      <title>Untitled</title>
      <link>http://enzo-liu.github.io/blog/2020/07/24/untitled/</link>
      <description><![CDATA[<section id="content" role="main">
    <div id="outline-container-sec-" class="row" style="padding-top: 70px">
        <div class="col-md-2"></div>
            <h1>Untitled</h1>
            <div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org56985a6">1. 拼团</a>
<ul>
<li><a href="#orga637de4">1.1. 拼团需求分析</a></li>
<li><a href="#orgaf661f2">1.2. 拼团用户场景</a></li>
<li><a href="#org36d1b91">1.3. 拼团场景分析</a></li>
<li><a href="#org9132a9e">1.4. 拼团系统概要设计</a>
<ul>
<li><a href="#org313d67b">1.4.1. 重点概念解释</a></li>
<li><a href="#orgca3029e">1.4.2. 模块划分</a></li>
</ul>
</li>
<li><a href="#org056a90f">1.5. 拼团模块内部设计</a>
<ul>
<li><a href="#org3f7a904">1.5.1. 拼团活动模块</a></li>
<li><a href="#org1e97390">1.5.2. 拼团模块</a></li>
</ul>
</li>
<li><a href="#org6aebcb4">1.6. 拼团任务分解</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org56985a6" class="outline-2">
<h2 id="org56985a6"><span class="section-number-2">1</span> 拼团</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orga637de4" class="outline-3">
<h3 id="orga637de4"><span class="section-number-3">1.1</span> 拼团需求分析</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>商家能创建/参与拼团活动</li>
<li>op 能审核&amp;发布该拼团活动</li>
<li>当拼团活动发布之后，符合一定的标准，用户可以在商品详情页看到</li>
<li>用户可以发起或者参加某个团</li>
<li>团符合成功标准，则拼团成功。超时未符合，则拼团失败</li>
<li>拼团成功，则用户购买成功。失败，则退款</li>
<li>购买成功后，用户能看到订单, 能看到后续的发货流程，正常消费。</li>
<li>如果拼团成功，但是超卖，可能也需要退款</li>
</ul>
</div>
</div>


<div id="outline-container-orgaf661f2" class="outline-3">
<h3 id="orgaf661f2"><span class="section-number-3">1.2</span> 拼团用户场景</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>商家
<ul class="org-ul">
<li>创建拼团活动</li>
<li>修改拼团活动内容</li>
<li>查看拼团活动审核情况</li>
</ul></li>
<li>管理人员
<ul class="org-ul">
<li>审核拼团活动</li>
<li>驳回拼团活动</li>
</ul></li>
<li>用户
<ul class="org-ul">
<li>基于项目查看拼团活动</li>
<li>创建一个拼团</li>
<li>参与一个拼团</li>
<li>查看拼团进度</li>
<li>拼团成功后查看订单，消费票券</li>
<li>拼团失败后退款</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org36d1b91" class="outline-3">
<h3 id="org36d1b91"><span class="section-number-3">1.3</span> 拼团场景分析</h3>
<div class="outline-text-3" id="text-1-3">
<ul class="org-ul">
<li><p>
商家创建拼团活动
</p>


<div class="figure">
<p><img src="/assets/blog/2020/07/24/untitled/merchant-tuan-campaign.png" alt="/assets/blog/2020/07/24/untitled/merchant-tuan-campaign.png" />
</p>
</div></li>

<li><p>
用户创建拼团
</p>


<div class="figure">
<p><img src="/assets/blog/2020/07/24/untitled/user-tuan.png" alt="/assets/blog/2020/07/24/untitled/user-tuan.png" />
</p>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org9132a9e" class="outline-3">
<h3 id="org9132a9e"><span class="section-number-3">1.4</span> 拼团系统概要设计</h3>
<div class="outline-text-3" id="text-1-4">
</div>
<div id="outline-container-org313d67b" class="outline-4">
<h4 id="org313d67b"><span class="section-number-4">1.4.1</span> 重点概念解释</h4>
<div class="outline-text-4" id="text-1-4-1">
<ul class="org-ul">
<li><p>
拼团活动
</p>

<p>
制作领域的概念，包含参与拼团活动的项目，场次，票档，拼团价格，结算价格，有效期，是否公开等信息
</p></li>

<li><p>
团
</p>

<p>
第一个拼团订单创建完成，会生成一个团。用于承载拼团动作的结果
</p></li>

<li><p>
拼团订单
</p>

<p>
用于承载针对某个团的参与动作，以及支付行为, 驱动后续的订单生成等
</p></li>
</ul>
</div>
</div>

<div id="outline-container-orgca3029e" class="outline-4">
<h4 id="orgca3029e"><span class="section-number-4">1.4.2</span> 模块划分</h4>
<div class="outline-text-4" id="text-1-4-2">
<ul class="org-ul">
<li>拼团活动模块
<ul class="org-ul">
<li>负责拼团活动的创建，审核，发布功能</li>
<li>负责拼团活动的查询</li>
</ul></li>

<li>拼团模块
<ul class="org-ul">
<li>负责拼团的创建</li>
<li>负责参团</li>
<li>负责拼团的信息查询</li>
<li>负责拼团状态的维护，包含拼团成功，超时失败等</li>
<li>负责拼团成功后对应订单的创建</li>
<li>负责可能的超卖后的退款处理</li>
</ul></li>

<li>支付模块
<ul class="org-ul">
<li>负责拼团订单的支付</li>
<li>负责拼团订单的退款</li>
</ul></li>

<li>订单模块
<ul class="org-ul">
<li>负责拼团订单对应的商品按照指定价格和结算价进行下单</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org056a90f" class="outline-3">
<h3 id="org056a90f"><span class="section-number-3">1.5</span> 拼团模块内部设计</h3>
<div class="outline-text-3" id="text-1-5">
</div>
<div id="outline-container-org3f7a904" class="outline-4">
<h4 id="org3f7a904"><span class="section-number-4">1.5.1</span> 拼团活动模块</h4>
<div class="outline-text-4" id="text-1-5-1">
<ol class="org-ol">
<li>与外部模块关系
<ul class="org-ul">
<li>提供拼团的定价和结算信息给拼团模块</li>
<li>根据项目，提供审核通过的拼团活动的详细信息，用于演出模块展示拼团活动和最低拼团价</li>
</ul></li>
<li>内部逻辑
<ul class="org-ul">
<li>同一个项目，选择不同的票档参与拼团，设置拼团价格和库存</li>
<li>拼团活动以项目为维度，可以审核通过或者驳回</li>
<li>可以设置开始时间和结束时间</li>
<li>如果考虑到一定的灵活性，审核的维度可以到票档。</li>
<li>保证最终成团的售卖数量不超过拼团活动设置的最大库存
<ul class="org-ul">
<li>倘若超卖，则支付成功，购买失败，做退款。产品上需有说明</li>
<li>若拼团成功 3 单，其中 2 单有库存，一单超卖失败, 则仅退款一单</li>
<li>可以是判断是否当前团的最后一个团员,如果是，那么提交订单时就锁定整个团的库存, 如果不是，那么提交订单时不锁定整个团的库存</li>
</ul></li>
</ul></li>
<li>外部接口
<ol class="org-ol">
<li>创建拼团活动</li>
<li>更新拼团活动</li>
<li>拼团活动审核</li>
<li>根据项目 ID，查询拼团信息(支持是否过滤 shopId)
<ol class="org-ol">
<li>一个商家一个项目多个票档，叫做一个拼团活动</li>
<li>一个项目可能会有多个拼团活动，选择其中拼团价最低的有库存的票档用于展示</li>
<li>如果有 shopId 的过滤条件，只查询指定 shopId 的拼团活动</li>
</ol></li>
<li>批量根据项目 ID，查询拼团信息(支持是否过滤 shopId)</li>
<li>根据拼团活动票档 Id, 查询结算价和数量</li>
</ol></li>

<li><p>
模型设计
</p>
<ul class="org-ul">
<li>PinTuanCampaign</li>
</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">字段名</td>
<td class="org-left">字段类型</td>
<td class="org-left">字段含义</td>
</tr>

<tr>
<td class="org-left">-</td>
<td class="org-left">-</td>
<td class="org-left">-</td>
</tr>

<tr>
<td class="org-left">id</td>
<td class="org-left">int</td>
<td class="org-left">主键 ID</td>
</tr>

<tr>
<td class="org-left">effectiveFrom</td>
<td class="org-left">Date</td>
<td class="org-left">拼团活动开始时间</td>
</tr>

<tr>
<td class="org-left">effectiveTo</td>
<td class="org-left">Date</td>
<td class="org-left">拼团活动结束时间</td>
</tr>

<tr>
<td class="org-left">status</td>
<td class="org-left">int</td>
<td class="org-left">拼团活动状态，已提交，已驳回, 已发布</td>
</tr>

<tr>
<td class="org-left">isOpen</td>
<td class="org-left">int</td>
<td class="org-left">是否公开</td>
</tr>

<tr>
<td class="org-left">activityId</td>
<td class="org-left">int</td>
<td class="org-left">演出 ID</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>PinTuanCampaignItem</li>
</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">字段名</td>
<td class="org-left">字段类型</td>
<td class="org-left">字段含义</td>
</tr>

<tr>
<td class="org-left">-</td>
<td class="org-left">-</td>
<td class="org-left">-</td>
</tr>

<tr>
<td class="org-left">id</td>
<td class="org-left">int</td>
<td class="org-left">主键 ID</td>
</tr>

<tr>
<td class="org-left">pinTuanCampaignId</td>
<td class="org-left">int</td>
<td class="org-left">拼团活动 ID</td>
</tr>

<tr>
<td class="org-left">ticketCategoryId</td>
<td class="org-left">int</td>
<td class="org-left">票档 Id</td>
</tr>

<tr>
<td class="org-left">activityEventId</td>
<td class="org-left">int</td>
<td class="org-left">场次 Id</td>
</tr>

<tr>
<td class="org-left">salePrice</td>
<td class="org-left">int</td>
<td class="org-left">拼团活动售价</td>
</tr>

<tr>
<td class="org-left">count</td>
<td class="org-left">int</td>
<td class="org-left">拼团活动总库存</td>
</tr>

<tr>
<td class="org-left">status</td>
<td class="org-left">int</td>
<td class="org-left">票档审核状态, 未通过，已通过</td>
</tr>

<tr>
<td class="org-left">sellStatus</td>
<td class="org-left">int</td>
<td class="org-left">票档售卖状态，开启，关闭</td>
</tr>
</tbody>
</table></li>

<li>拼团活动审核的维度
<ol class="org-ol">
<li>基于票档/基于项目/基于项目当前未审核通过的部分</li>
</ol></li>
<li>拼团活动票档的修改
<ol class="org-ol">
<li>一旦审批通过后，不可以修改拼团价格</li>
<li>关闭状态下，可以调整库存</li>
</ol></li>
<li>拼团活动如何保证(尽量)不超卖
<ol class="org-ol">
<li>在参团下单前，校验一次已参团人员的库存情况，如果库存不足，则不允许新团员参团</li>
</ol></li>
</ol>
</div>
</div>

<div id="outline-container-org1e97390" class="outline-4">
<h4 id="org1e97390"><span class="section-number-4">1.5.2</span> 拼团模块</h4>
<div class="outline-text-4" id="text-1-5-2">
<ol class="org-ol">
<li>与外部模块关系
<ul class="org-ul">
<li>成团后，驱动生成对应订单</li>
<li>支付拼团</li>
<li>拼团失败后，退款</li>
</ul></li>
<li>内部逻辑
<ul class="org-ul">
<li>创建拼团/参团订单，校验拼团商品价格</li>
<li>支付拼团订单，创建拼团</li>
<li>支付参团订单，参与拼团</li>
<li>拼团超时未成功, 自动退款</li>
<li>参团达到标准，拼团成功</li>
<li>如果超卖，拼团订单退款</li>
</ul></li>
<li>外部接口
<ol class="org-ol">
<li>创建拼团订单(包含发起团和参与团)</li>
<li>查看拼团订单详情</li>
<li>查看团的详情</li>
</ol></li>

<li><p>
模型设计
</p>
<ul class="org-ul">
<li>Tuan</li>
</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">字段名</td>
<td class="org-left">字段类型</td>
<td class="org-left">字段含义</td>
</tr>

<tr>
<td class="org-left">-</td>
<td class="org-left">-</td>
<td class="org-left">-</td>
</tr>

<tr>
<td class="org-left">id</td>
<td class="org-left">int</td>
<td class="org-left">团 ID</td>
</tr>

<tr>
<td class="org-left">ownerId</td>
<td class="org-left">int</td>
<td class="org-left">创建团的人</td>
</tr>

<tr>
<td class="org-left">status</td>
<td class="org-left">int</td>
<td class="org-left">拼团状态</td>
</tr>

<tr>
<td class="org-left">addTime</td>
<td class="org-left">Date</td>
<td class="org-left">团的创建时间</td>
</tr>

<tr>
<td class="org-left">expireTime</td>
<td class="org-left">Date</td>
<td class="org-left">团的有效期</td>
</tr>

<tr>
<td class="org-left">requiredNum</td>
<td class="org-left">int</td>
<td class="org-left">成团订单数量要求</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>PinTuanOrder</li>
</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">字段名</td>
<td class="org-left">字段类型</td>
<td class="org-left">字段含义</td>
</tr>

<tr>
<td class="org-left">-</td>
<td class="org-left">-</td>
<td class="org-left">-</td>
</tr>

<tr>
<td class="org-left">id</td>
<td class="org-left">int</td>
<td class="org-left">拼团订单 ID</td>
</tr>

<tr>
<td class="org-left">payStatus</td>
<td class="org-left">int</td>
<td class="org-left">支付状态, 待支付，已支付，已退款</td>
</tr>

<tr>
<td class="org-left">tuanId</td>
<td class="org-left">int</td>
<td class="org-left">团的 Id</td>
</tr>

<tr>
<td class="org-left">userId</td>
<td class="org-left">int</td>
<td class="org-left">拼团订单的用户</td>
</tr>

<tr>
<td class="org-left">count</td>
<td class="org-left">int</td>
<td class="org-left">购买数量</td>
</tr>

<tr>
<td class="org-left">salePrice</td>
<td class="org-left">int</td>
<td class="org-left">拼团价格</td>
</tr>
</tbody>
</table></li>

<li>TODO: 如何自动分配选座订单的座位</li>
<li>TODO: 如何保证驱动生成订单动作的幂等</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-org6aebcb4" class="outline-3">
<h3 id="org6aebcb4"><span class="section-number-3">1.6</span> 拼团任务分解</h3>
<div class="outline-text-3" id="text-1-6">
<ul class="org-ul">
<li>商家后台
<ul class="org-ul">
<li>拼团活动列表页</li>
<li>拼团活动详情页</li>
<li>拼团活动列表页接口</li>
<li>拼团活动详情页接口</li>
</ul></li>
<li>op 后台
<ul class="org-ul">
<li>拼团活动列表表</li>
<li>拼团活动详情页</li>
<li>拼团活动列表接口</li>
<li>拼团活动详情接口</li>
<li>拼团活动审核接口</li>
<li>拼团首页运营位配置</li>
</ul></li>
<li>android &amp;&amp; ios
<ul class="org-ul">
<li>项目详情页拼团入口展示</li>
<li>商家项目详情页拼团入口展示</li>
<li>首页拼团运营位展示</li>
<li>商家列表页 &amp;&amp; 列表页拼团价格展示</li>
<li>个人中心增加拼团订单的入口</li>
</ul></li>
<li>m 站用户侧发起/参加拼团
<ul class="org-ul">
<li>项目的拼团活动入口</li>
<li>拼团详情分享</li>
<li>拼团详情页面(各种状态和操作参考 PRD)</li>
<li>项目的拼团活动查询接口</li>
<li>拼团详情接口</li>
<li>TODO: 拼团项目的场次和票档以及库存查询接口</li>
<li>拼团确认订单页面</li>
<li>拼团下单接口</li>
<li>拼团支付</li>
<li>拼团订单详情页</li>
<li>个人中心增加拼团订单的入口</li>
</ul></li>

<li>拼团活动服务
<ul class="org-ul">
<li>拼团活动创建，更新，提交，审核，发布接口</li>
<li>拼团活动信息查询接口</li>
</ul></li>
<li>拼团服务
<ul class="org-ul">
<li>拼团创建接口</li>
<li>拼团参加接口</li>
<li>拼团成功创建订单</li>
<li>拼团超时未成功自动退款</li>
<li>拼团超卖?</li>
</ul></li>
<li>订单服务
<ul class="org-ul">
<li>TODO: 能够根据指定的商品售价创建拼团成功后的订单</li>
</ul></li>
</ul>
</div>
</div>
</div>

    </div>
</section>
]]></description>
      <pubDate>2020-07-24</pubDate>
      <guid>http://enzo-liu.github.io/blog/2020/07/24/untitled/</guid>
    </item>
    <item>
      <title>个人对汇报与同步的观点</title>
      <link>http://enzo-liu.github.io/blog/2020/05/15/个人对汇报与同步的观点/</link>
      <description><![CDATA[<section id="content" role="main">
    <div id="outline-container-sec-" class="row" style="padding-top: 70px">
        <div class="col-md-2"></div>
            <h1>个人对汇报与同步的观点</h1>
            <div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org5eb082a">1. 场景分析</a>
<ul>
<li><a href="#orgf6299da">1.1. 同步类型</a></li>
<li><a href="#org426e610">1.2. 汇报类型</a></li>
</ul>
</li>
<li><a href="#org25fdc67">2. 个人倾向</a></li>
<li><a href="#org6b91f93">3. 部分思考</a></li>
<li><a href="#orgf90ee9e">4. 部分案例</a></li>
</ul>
</div>
</div>

<div id="outline-container-org5eb082a" class="outline-2">
<h2 id="org5eb082a"><span class="section-number-2">1</span> 场景分析</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orgf6299da" class="outline-3">
<h3 id="orgf6299da"><span class="section-number-3">1.1</span> 同步类型</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>结果同步
<ul class="org-ul">
<li>一期交付了 xx 功能</li>
<li>已迁移 xx 流量</li>
<li>99 分位请求延迟下降 xx%</li>
</ul></li>
<li>过程(进展)同步
<ul class="org-ul">
<li>本周做了架构迁移/升级</li>
<li>完成了 xx 项目的 xx% 的开发</li>
</ul></li>
<li>工作内容同步
<ul class="org-ul">
<li>做了 region 的 major<sub>compact</sub></li>
<li>查了 xx 问题</li>
</ul></li>
<li>资源(风险)同步
<ul class="org-ul">
<li>插入了 xx 事情, 时间不够</li>
<li>之前没考虑到 xx, 导致项目范围变更</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org426e610" class="outline-3">
<h3 id="org426e610"><span class="section-number-3">1.2</span> 汇报类型</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>业务汇报
<ul class="org-ul">
<li>对象: 上下游</li>
<li>视角: 偏业务，偏外部, 从结果指标上了解工作产出</li>
</ul></li>
<li>周会/例会/专业汇报
<ul class="org-ul">
<li>对象: 同专业的同事/team 内同事</li>
<li>视角: 偏内部，偏专业，从过程上了解进展, 方案, 可行性, 专业程度</li>
</ul></li>
<li>资源透明
<ul class="org-ul">
<li>对象: 关注资源的人</li>
<li>视角: 时间，工作内容，事项，花费</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org25fdc67" class="outline-2">
<h2 id="org25fdc67"><span class="section-number-2">2</span> 个人倾向</h2>
<div class="outline-text-2" id="text-2">
<ol class="org-ol">
<li>无论什么汇报，带上结果
<ol class="org-ol">
<li>业务汇报结果为主</li>
<li>专业汇报结果作为例证</li>
</ol></li>
<li>结果是外部视角，不看专业程度</li>
<li>风险需要 review/复盘，需要体现在下次项目的预判，规划中</li>
<li>周会类汇报
<ol class="org-ol">
<li>进展为主: 目标 xxx, 目前完成 xxx, 整体进度正常</li>
<li>工作内容为辅</li>
<li>结果作为例证</li>
</ol></li>
<li>无论什么汇报，都带上风险
<ol class="org-ol">
<li>风险作为提示, 求助
<ol class="org-ol">
<li>资源问题，有资源的人可以帮忙</li>
<li>方案问题, 专家可以帮忙</li>
</ol></li>
<li>风险作为下次的提醒
<ol class="org-ol">
<li>从而后续可以有更专业的判断和规划</li>
</ol></li>
</ol></li>
</ol>
</div>
</div>

<div id="outline-container-org6b91f93" class="outline-2">
<h2 id="org6b91f93"><span class="section-number-2">3</span> 部分思考</h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li>结果为主的视角下，为什么需要不断同步资源/工作内容
<ul class="org-ul">
<li>结果不确定
<ul class="org-ul">
<li>专业要求高，方案不确定程度高，透明方便外部帮忙优化工作内容</li>
</ul></li>
<li>结果不够好
<ul class="org-ul">
<li>无法交付结果，才会更多的关注原因，过程，内容</li>
</ul></li>
<li>预期对业务交代应该只给结果, 做目标同步和结果透明</li>
<li>管理视角下, 需要以资源视角去看待投入和产出，才会更关注资源/内容的同步</li>
</ul></li>
<li>项目视角下，应该关注什么
<ul class="org-ul">
<li>结果为第一目标，关注
<ol class="org-ol">
<li>要交付什么结果</li>
<li>目前进展如何</li>
<li>是否有风险
<ul class="org-ul">
<li><b>是否需要求助，如何解决风险</b></li>
</ul></li>
</ol></li>
<li>为后续项目进展顺利考虑，需要关注过程和复盘</li>
</ul></li>
<li>个人视角下，应该关注什么
<ol class="org-ol">
<li>在进行什么汇报, 受众，关注点</li>
<li>如何通过专业的方案, 合理的项目规划，保证在受限资源下的项目的达成</li>
</ol></li>
</ul>
</div>
</div>

<div id="outline-container-orgf90ee9e" class="outline-2">
<h2 id="orgf90ee9e"><span class="section-number-2">4</span> 部分案例</h2>
<div class="outline-text-2" id="text-4">
<p>
TODO: 待补充&#x2026;
</p>
</div>
</div>

    </div>
</section>
]]></description>
      <pubDate>2020-07-24</pubDate>
      <guid>http://enzo-liu.github.io/blog/2020/05/15/个人对汇报与同步的观点/</guid>
    </item>
    <item>
      <title>用 =org mode= 写一个本地静态网站</title>
      <link>http://enzo-liu.github.io/blog/2019/09/11/org-to-web-site</link>
      <description><![CDATA[用 =org mode= 写一个本地静态网站]]></description>
      <pubDate>2019-09-11</pubDate>
      <guid>http://enzo-liu.github.io/blog/2019/09/11/org-to-web-site</guid>
    </item>
    <item>
      <title>Spring Boot 启动过程分析</title>
      <link>http://enzo-liu.github.io/blog/2019/08/07/spring-boot-startup</link>
      <description><![CDATA[]]></description>
      <pubDate>2019-08-07</pubDate>
      <guid>http://enzo-liu.github.io/blog/2019/08/07/spring-boot-startup</guid>
    </item>
    <item>
      <title>工程的复杂度</title>
      <link>http://enzo-liu.github.io/blog/2019/07/31/engineer-complex</link>
      <description><![CDATA[]]></description>
      <pubDate>2019-07-31</pubDate>
      <guid>http://enzo-liu.github.io/blog/2019/07/31/engineer-complex</guid>
    </item>
  </channel>
</rss>