<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
  <channel>
    <title>enzo&#39;s note book</title>
    <link>http://blog.enzotech.in/</link>
    <description>sketch for random ideas</description>
    <pubDate>Wed, 03 Feb 2016 15:24:56 HKT</pubDate>
    <lastBuildDate>Wed, 03 Feb 2016 15:24:56 HKT</lastBuildDate>
    <docs>http://www.rssboard.org/rss-specification</docs>
    <generator>Org-page static site generator (https://github.com/kelvinh/org-page)</generator>
    <item>
      <title>ç”¨org-pageå°è¯•å†™ç‚¹ä¸œè¥¿</title>
      <link>http://blog.enzotech.in/blog/2016/01/11/ç”¨org-pageå°è¯•å†™ç‚¹ä¸œè¥¿/</link>
      <description><![CDATA[<div>
<div class="post">
<h1>ç”¨org-pageå°è¯•å†™ç‚¹ä¸œè¥¿</h1>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1">èƒŒæ™¯</h2>
<div class="outline-text-2" id="text-orgheadline1">
<p>
è¿‘æ®µæ—¶é—´ä¸€ç›´å–œæ¬¢è‡ªå·±ç”¨ <code>org-mode</code> å†™ç‚¹ä¸œè¥¿ã€‚ä¸šåŠ¡ä¸Šçš„æ–‡æ¡£ï¼Œä¸ªäººçš„ç¬”è®°ç­‰ã€‚
</p>

<p>
æ²¡æœ‰æ·±å…¥çš„äº†è§£è¿‡ <span class="underline">publish</span> åœ¨ <code>org-mode</code> ä¸­æ€ä¹ˆä½¿ç”¨ï¼Œæ­£å·§é‡åˆ°äº† <a href="https://github.com/kelvinh/org-page"><code>org-page</code></a>, ä¸Šæ‰‹å¾ˆå®¹æ˜“ï¼Œå°±å‡†å¤‡æŠŠè‡ªå·±ä¹‹å‰çš„å°blogç»™æ¨äº†ï¼Œç”¨å®ƒæ¥è®°å½•ç‚¹ä¸œè¥¿ã€‚
</p>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-2">
<h2 id="orgheadline2">å®‰è£…</h2>
<div class="outline-text-2" id="text-orgheadline2">
<p>
å¦‚æ–‡æ¡£ä¸Šæ‰€è¯´ï¼Œä½¿ç”¨ <code>melpa</code> å¯ä»¥å¾ˆå®¹æ˜“å°±å®‰è£…æˆåŠŸã€‚ ç•¥å¾®é…ç½®ä¸€ä¸‹æ–‡ä»¶å¤¹åœ°å€ï¼Œå“ªäº›æ–‡ä»¶å¤¹ä¸è¦å‘å¸ƒåˆ°ç½‘ç«™ä¸Šï¼Œä½¿ç”¨çš„ <code>branch</code> çš„åç§°å³å¯ã€‚
</p>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-2">
<h2 id="orgheadline3">è¿ç§»</h2>
<div class="outline-text-2" id="text-orgheadline3">
<p>
è™½ç„¶è¿‡å»çš„ <code>blog</code> å†™çš„å¾ˆå¹¼ç¨šï¼Œ ä½†æ˜¯è¿˜æœ‰æœ‰ä¸€ç‚¹ <del>å†å²</del> æ„ä¹‰çš„ã€‚
</p>

<p>
ä½¿ç”¨ <code>haskell</code> å†™çš„ <code>pandoc</code> å°±æ˜¯æ–‡æ¡£è½¬æ¢ç•Œçš„ä¸€æŠŠé‡‘å…‰é—ªé—ªçš„ç‘å£«å†›åˆ€ã€‚
</p>

<div class="org-src-container">

<pre class="src src-bash">find . -name \*.md -type f -exec pandoc  -f markdown -t org -o {}.org {} \;
</pre>
</div>

<p>
ä¸€è¡Œæå®š, ç„¶åæ‰‹åŠ¨åŠ ä¸€äº› <code>org-page</code> éœ€è¦çš„ <code>header</code> å°±å¯ä»¥äº†ã€‚
</p>
</div>
</div>

<div id="outline-container-orgheadline4" class="outline-2">
<h2 id="orgheadline4">github pages</h2>
</div>

</div>
</div>]]></description>
      <pubDate>2016-02-03</pubDate>
      <guid>http://blog.enzotech.in/blog/2016/01/11/ç”¨org-pageå°è¯•å†™ç‚¹ä¸œè¥¿/</guid>
    </item>
    <item>
      <title>Global Day Of Code Retreat</title>
      <link>http://blog.enzotech.in/blog/2013/12/17/global-day-of-code-retreat/</link>
      <description><![CDATA[<div>
<div class="post">
<h1>Global Day Of Code Retreat</h1>


<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1">ä¸»é¢˜</h2>
<div class="outline-text-2" id="text-orgheadline1">
<p>
é‡å¤çš„åšä¸€ä¸ªç®€å•çš„ä»»åŠ¡ï¼Œ<a href="http://en.wikipedia.org/wiki/Conway's_Game_of_Life">â€œConway's
Game Of Lifeâ€</a>ã€‚
</p>

<p>
å…¨å¤©å…±æœ‰å…­ä¸ªsessionï¼Œæ¯ä¸ªsessionåŒ…å«40åˆ†é’Ÿå·¦å³ï¼Œä»¥åŠä¸€ä¸ªæˆ–è€…å¤šä¸ªçš„é™åˆ¶ã€‚æ¯ä¸ªsessionçš„ç›®çš„ä¸åœ¨äºå®Œæˆï¼Œç›®çš„ä»…ä»…æ˜¯å®è·µã€‚
</p>

<p>
å…¶ä½™æ›´å¤šä»‹ç»å¯ä»¥å‚è€ƒInfoQä¸Š<a href="http://www.infoq.com/news/2011/11/global_day_of_code_retreat">Global
Day Of Code Retreat</a>çš„ä»‹ç»ã€‚
</p>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-2">
<h2 id="orgheadline2">æ´»åŠ¨</h2>
<div class="outline-text-2" id="text-orgheadline2">
<p>
æ—©ä¸Š9ç‚¹å¼€å§‹ï¼Œä¸Šåˆ3ä¸ªsessionï¼Œè€Œååˆä¼‘+äº¤æµã€‚ä¸‹åˆ3ä¸ªsessionï¼Œ6ç‚¹ç»“æŸã€‚
</p>

<p>
<i>æ¯æ¬¡æ´»åŠ¨2äººpairï¼Œå¿…é¡»æ‰¾ä¸€ä¸ªä¸åŒçš„äººã€‚</i>
</p>

<p>
<b>sessionç»“æŸåå°†æœ¬æ¬¡ä»£ç å°å­˜/åˆ é™¤ã€‚</b>
</p>
</div>

<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3">session 1</h3>
<div class="outline-text-3" id="text-orgheadline3">
<p>
<b>constraint: æ²¡æœ‰é™åˆ¶ï¼Œç”¨ä»»æ„å–œå¥½çš„è¯­è¨€ï¼Œå®ç°è¿™ä¸ªå°åŠŸèƒ½</b>
</p>

<p>
è¿™ä¸ªsessionçš„ä¸»è¦ç›®çš„æ˜¯äº†è§£æ•´ä¸ªä»»åŠ¡æ˜¯ç¥é©¬ï¼Œè¦å®ç°çš„å¤§ä½“åŠŸèƒ½æ˜¯ç¥é©¬ã€‚
</p>

<p>
è¿™é‡Œä¹Ÿç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œè¿™æ˜¯ä¸€ä¸ª0-playerçš„æ¸¸æˆï¼Œç»™å®šè¾“å…¥ï¼Œå°±çœ‹ç€è¿™ä¸ªä¸–ç•Œå¦‚ä½•æ¼”è¿›å°±OKäº†ã€‚
</p>

<p>
æ€»ä½“åœ¨æè¿°ä¸€ä¸ªä¸–ç•Œï¼Œæœ‰ä¸€ç¾¤å­¤ç‹¬åˆæ€•æŒ¤çš„ç¥å¥‡çš„å°ç»†èƒä»¬ï¼Œç”Ÿå­˜æ¡ä»¶å¦‚ä¸‹:
</p>

<ul class="org-ul">
<li>æ´»ç»†èƒå‘¨å›´çš„æ´»ç»†èƒä¸ªæ•°å°äº2ä¸ªæ—¶ï¼Œä¸‹ä¸€æ¬¡æ¼”è¿›ä¼šæ­»å»</li>
<li>æ´»ç»†èƒå‘¨å›´çš„æ´»ç»†èƒä¸ªæ•°å¤§äº3ä¸ªæ—¶ï¼Œä¸‹ä¸€æ¬¡æ¼”è¿›ä¼šæ­»å»</li>
<li>æ´»ç»†èƒå‘¨å›´çš„æ´»ç»†èƒä¸ªæ•°ç­‰äº2/3ä¸ªæ—¶ï¼Œä¸‹ä¸€æ¬¡æ¼”è¿›ä¼šæ´»ç€</li>
<li>æ­»ç»†èƒå‘¨å›´çš„æ´»ç»†èƒä¸ªæ•°ç­‰äº3ä¸ªæ—¶ï¼Œä¸‹ä¸€æ¬¡ä¼šå¤æ´»</li>
</ul>

<p>
<i>æ€»çš„æ¥è¯´ï¼Œå‘¨å›´æ´»ç»†èƒä¸ªæ•°ä¸º3æ—¶ï¼Œè¯¥ç»†èƒæ´»ç€ã€‚ä¸ªæ•°ä¸º2ä¸ªæ—¶ï¼Œæ´»ç»†èƒä¾ç„¶æ´»ç€ã€‚å…¶ä½™æƒ…å†µï¼Œç»†èƒæ­»å»ã€‚</i>
</p>

<p>
æ²¡å†™å®Œã€‚
</p>
</div>
</div>

<div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4">session 2</h3>
<div class="outline-text-3" id="text-orgheadline4">
<p>
<b>constraint: ä½¿ç”¨TDDå¼€å‘</b>
</p>

<p>
è¯¥ç¯èŠ‚è¦æ±‚æ¯ä¸€è¡Œä»£ç åµŒå…¥å‰ï¼Œå¿…é¡»æœ‰ç›¸å…³å¤±è´¥çš„ç”¨ä¾‹é©±ä½¿ï¼ŒåŒ…æ‹¬ç±»çš„æ–°å»ºï¼Œæ–¹æ³•çš„æ–°å»ºï¼Œé€»è¾‘çš„æ–°å»º/æ›´æ–°ç­‰ç­‰ã€‚
</p>

<p>
è¿™æ—¶åŸºæœ¬ä¸Šå·²ç»ç†Ÿæ‚‰äº†æ•´ä½“åŠŸèƒ½ï¼Œä»ç”¨ä¾‹å¼€å§‹å†™èµ·ä¹Ÿè¿˜ç®—é¡ºæ‰‹ã€‚
</p>

<p>
è®¾è®¡å°±æ˜¯ä¸€ä¸ªå«åšBlockçš„ä¸–ç•Œåˆå§‹åŒ–ï¼Œæ‰“å°ï¼ŒåŠ ä¸Šä¸€ä¸ªå«åšLifeScannerçš„ç¥æ¥å†³å®šæ¯ä¸ªç»†èƒä¸‹ä¸€æ¬¡çš„æ­»æ´»ã€‚
</p>

<p>
ç»“æŸçš„æ—¶å€™ä¾ç„¶æ²¡å†™å®Œã€‚
</p>
</div>
</div>

<div id="outline-container-orgheadline5" class="outline-3">
<h3 id="orgheadline5">session 3</h3>
<div class="outline-text-3" id="text-orgheadline5">
<p>
<b>constraint: ä¸å…è®¸ä½¿ç”¨2ç»´æ•°æ®æ¥ä¿å­˜ç»†èƒ(ç±»ä¼¼ä½¿ç”¨2ä¸ªListçš„åŒæ ·ä¸å…è®¸)</b>
</p>

<p>
å¬åˆ°è¿™ä¸ªæ¡ä»¶çš„æ—¶å€™å¤§å®¶ç¬¬ä¸€æ¬¡éœ‡æƒŠäº†ï¼Œ80%çš„äººéƒ½åœ¨ç”¨2ç»´æ•°ç»„ï¼Œé€»è¾‘çš„ä¸€å¤§éƒ¨åˆ†æ˜¯åœ¨åˆ¤æ–­æ•°ç»„è¶Šç•Œã€‚
</p>

<p>
é‡‡ç”¨çš„æ”¹åŠ¨æ–¹å¼æ˜¯ç”¨Listä¿å­˜æ‰€æœ‰å­˜æ´»çš„ç»†èƒçš„ä½ç½®,æ ¹æ®ä½ç½®æ‰¾åˆ°å‘¨å›´çš„8ä¸ªé‚»å±…ï¼Œçœ‹å…¶æ˜¯å¦å­˜æ´»å³å¯ã€‚æ²¡æœ‰è¾¹ç•Œçš„é—®é¢˜ï¼Œæ­»æ´»å®Œå…¨ç”±è‡ªèº«çŠ¶æ€+å‘¨è¾¹æ´»çš„é‚»å±…ä¸ªæ•°å†³å®šã€‚
</p>

<p>
ç¬¬ä¸€æ¬¡å†™å®Œäº†ã€‚
</p>
</div>
</div>

<div id="outline-container-orgheadline6" class="outline-3">
<h3 id="orgheadline6">Lunch Break</h3>
<div class="outline-text-3" id="text-orgheadline6">
<p>
<b>è‡ªç”±äº¤æµ</b>
</p>
</div>
</div>

<div id="outline-container-orgheadline7" class="outline-3">
<h3 id="orgheadline7">session 4</h3>
<div class="outline-text-3" id="text-orgheadline7">
<p>
<b>constraint:
javaè¯­è¨€ä»»ä½•æ–¹æ³•çš„ä»£ç è¡Œæ•°ä¸è¶…è¿‡7,rubyã€scalaã€jsç­‰è¯­è¨€ä»£ç è¡Œæ•°ä¸è¶…è¿‡5</b>
</p>

<p>
æ€è·¯åŸºæœ¬æ²¡å˜ï¼Œåªæ˜¯ä¸åœçš„æ‹†åˆ†å…·ä½“çš„åŠŸèƒ½å—ã€‚æ¯”å¦‚:
</p>

<ol class="org-ol">
<li>åœ°å›¾çš„çŠ¶æ€å–å†³äºæ¯ä¸ªç»†èƒçš„çŠ¶æ€</li>
<li>æ¯ä¸ªç»†èƒçš„çŠ¶æ€å–å†³äºå½“å‰çŠ¶æ€+æ´»çš„é‚»å±…ä¸ªæ•°</li>
<li>æ´»çš„é‚»å±…ä¸ªæ•°å–å†³äºæ¯ä¸ªé‚»å±…+å…¶çŠ¶æ€</li>
<li>é‚»å±…å–å†³äºè‡ªå·±ä½ç½®</li>
</ol>

<p>
å¥½å¤„å°±æ˜¯ä»£ç æ›´å†…èšæ›´å•çº¯ã€‚
</p>

<p>
ä¾ç„¶æ²¡åšå®Œã€‚
</p>
</div>
</div>

<div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8">session 5</h3>
<div class="outline-text-3" id="text-orgheadline8">
<p>
<b>constraint: ä¸å…è®¸ä½¿ç”¨ifï¼Œä¸‰ç›®è¿ç®—ç­‰ä»»ä½•å½¢å¼çš„æ¡ä»¶è¯­å¥</b>
</p>

<p>
å‚è€ƒæ€è·¯:
</p>

<ol class="org-ol">
<li>æŸäº›æƒ…å†µä¸‹ï¼Œç›´æ¥ä½¿ç”¨è¡¨è¾¾å¼çš„å€¼ã€‚</li>
<li>å°†çŠ¶æ€å’Œè¡Œä¸ºé€šè¿‡Mapå…³è”èµ·æ¥</li>
<li>ä½¿ç”¨å¤šæ€</li>
</ol>

<p>
ç­‰ç­‰
</p>

<p>
éƒ¨åˆ†å–å·§çš„æ–¹å¼
</p>

<ol class="org-ol">
<li>è¾¹ç•Œç­‰å¼‚å¸¸çš„åˆ¤æ–­æ”¹ç”¨try-catchï¼Œä¸‘ä½†æ˜¯Work</li>
<li>ifæ”¹ç”¨whileï¼Œforç­‰å½¢å¼æ¥è¡¨è¾¾ï¼Œç•¥èµ–çš®ã€‚</li>
</ol>

<p>
å¥½å¤„åœ¨äºé™ä½å¤æ‚åº¦ã€‚ä¸ªäººè§‰å¾—æœ‰æ—¶ä¼šå¢åŠ ä¸€äº›ä»£ç æœ¬èº«çš„å¤æ‚æ€§ã€‚
</p>
</div>
</div>

<div id="outline-container-orgheadline9" class="outline-3">
<h3 id="orgheadline9">session 6</h3>
<div class="outline-text-3" id="text-orgheadline9">
<p>
<b>constraint: ä¸å…è®¸ä½¿ç”¨å¾ªç¯</b>
</p>

<p>
å‚è€ƒæ€è·¯: <b>ä½¿ç”¨é€’å½’</b>
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline10" class="outline-2">
<h2 id="orgheadline10">æ”¶è·</h2>
<div class="outline-text-2" id="text-orgheadline10">
<p>
ä¸€æ•´å¤©çš„æ´»åŠ¨å‚åŠ ä¸‹æ¥ï¼Œå¾ˆæœ‰ä¹è¶£ã€‚
</p>

<p>
å•çº¯coding all dayæœ¬èº«ä¹Ÿæ˜¯ä¸€ä»¶ä¹äº‹ã€‚
</p>

<p>
è®¤è¯†äº†ä¸€äº›åˆ«çš„å°ä¼™ä¼´ã€‚æŠ€æœ¯ç¿»è¯‘ï¼Œè¡Œæ”¿ï¼Œå¼€å‘ï¼Œäº§å“ï¼Œå„ç§é£æ ¼çš„äººéƒ½æœ‰å‡ºç°ã€‚å’Œå„ä¸ªä¸åŒé£æ ¼ï¼Œæ€æƒ³çš„äººç¢°æ’ï¼Œäº¤æµçš„æ„Ÿè§¦é¢‡å¤šã€‚
</p>

<p>
æŠ€æœ¯ä¸Šçš„æ”¶è·ä¹Ÿæœ‰ä¸€äº›ï¼Œå…·ä½“è¿˜æ˜¯æœ‰å¾…å®è·µä¸­ç»§ç»­ç§¯ç´¯ã€‚
</p>
</div>
</div>

</div>
</div>]]></description>
      <pubDate>2016-02-03</pubDate>
      <guid>http://blog.enzotech.in/blog/2013/12/17/global-day-of-code-retreat/</guid>
    </item>
    <item>
      <title>Rails åˆæ¢</title>
      <link>http://blog.enzotech.in/blog/2013/12/20/rails-åˆæ¢/</link>
      <description><![CDATA[<div>
<div class="post">
<h1>Rails åˆæ¢</h1>
<p>
<b>é¦–æ¬¡ç³»ç»Ÿçš„æ¥è§¦WEB+å‰ç«¯å†…å®¹ï¼Œå¥½å¥½å­¦ä¹ ä¸€ä¸‹ï¼Œåšä¸€ä¸‹é—®é¢˜çš„è®°å½•ã€‚</b>
</p>

<div id="outline-container-orgheadline4" class="outline-2">
<h2 id="orgheadline4">ä¾èµ–</h2>
<div class="outline-text-2" id="text-orgheadline4">
</div><div id="outline-container-orgheadline1" class="outline-3">
<h3 id="orgheadline1">assetPipeLine</h3>
<div class="outline-text-3" id="text-orgheadline1">
<ul class="org-ul">
<li>jsï¼Œcssç­‰æ–‡ä»¶ï¼ŒåŒæ—¶ä¾èµ–å¤šæ¬¡ä¼šå­˜åœ¨é—®é¢˜ã€‚å…·ä½“åŸå› è¿˜æ²¡æœ‰ææ¸…ã€‚jsçš„ä¾èµ–å…¨éƒ¨å†™åœ¨äº†application.jsä¸­ï¼Œcssçš„ä¾èµ–ä¸€æ ·ã€‚æ— é¡»åœ¨htmläººå·¥å¯¼å…¥</li>
<li>fontæ–‡ä»¶çš„ä¾èµ–ï¼Œconfig/application.rbä¸­æ·»åŠ å¦‚ä¸‹ä»£ç :</li>
</ul>

<p>
{% highlight js %} config.assets.paths &lt;&lt; Rails.root.join("app",
"assets", "fonts") config.assets.precompile &lt;&lt; Proc.new { |path| if path
=~ <i>.(eot|svg|ttf|woff)\z</i> true end } {% endhighlight %}
</p>

<p>
scssä¸­é€šè¿‡font-urlä½¿ç”¨å³å¯ã€‚
</p>

<p>
{% highlight js %} font-url('glyphicons-halflings-regular.eot');<br  />
{% endhighlight %}
</p>

<ul class="org-ul">
<li>coffeeScriptä¸scssçš„è¯­æ³•é¦–æ¬¡æ¥è§¦ï¼Œå¯¹jsï¼Œcssæœ¬èº«çš„äº†è§£ä¹Ÿä¸å¤Ÿï¼Œä¸Šæ‰‹èµ·æ¥å¾ˆæ˜¯ç—›è‹¦</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2">View</h3>
<div class="outline-text-3" id="text-orgheadline2">
<p>
*BootStrap*æœç„¶è¶…çº§å¥½ç”¨ã€‚æš‚æ—¶è¿˜æ²¡æœ‰ä»€ä¹ˆç ”ç©¶ï¼Œä¸è¿‡æ‹·è´è¿‡æ¥ç«‹åˆ»å¯ä»¥è§åˆ°æˆæ•ˆï¼Œæ„Ÿè§‰å¾ˆå¥½ã€‚
</p>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3">Route</h3>
<div class="outline-text-3" id="text-orgheadline3">
<p>
å·¥ç¨‹çš„è·¯ç”±è§„åˆ™å®Œå…¨ç”±config/Route.rbä¸­å†…å®¹è§‰å¾—ã€‚å½“å‰åªæ˜¯é…ç½®äº†æ˜ å°„å…³ç³»ï¼Œå’Œstrutsçš„actioné…ç½®æ„Ÿè§‰æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚
</p>

<p>
è¿”å›çš„ä¿¡æ¯ç±»åˆ«å¯ç”±è°ƒç”¨æ—¶å†³å®šï¼Œæ¯”å¦‚welcome/index.jsonï¼Œå³è¡¨æ˜è¦è·å–jsonç±»å‹çš„æ•°æ®ã€‚
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline5" class="outline-2">
<h2 id="orgheadline5">AJAX</h2>
<div class="outline-text-2" id="text-orgheadline5">
<p>
ä¹‹æ‰€ä»¥æ‹¿å‡ºæ¥å•ç‹¬è¯´ï¼Œæ˜¯è¿™ä¸ªè®©æˆ‘æçš„çš„ç¡®å¾ˆç—›è‹¦ã€‚
</p>

<p>
å½“ç„¶å¯ä»¥ç›´æ¥ä½¿ç”¨js(jQuery)æ¥ä»é¡µé¢åˆ°å›è°ƒä»€ä¹ˆçš„å®Œå…¨æå®šï¼Œä¸è¿‡æœ‰è¿æˆ‘å­¦ä¹ Railsçš„åˆè¡·ï¼Œå°±è¿˜æ˜¯æŒ‰éƒ¨å°±ç­çš„æŒ‰ç…§Railsçš„helpä¸Šä¸€æ­¥æ­¥å°è¯•ï¼Œå„ç§é—®é¢˜ã€‚
</p>
</div>

<div id="outline-container-orgheadline6" class="outline-3">
<h3 id="orgheadline6">TAG</h3>
<div class="outline-text-3" id="text-orgheadline6">
<p>
åœ¨html.erbæ–‡ä»¶ä¸­ï¼Œrailsæ¨èçš„å†™æ³•æ˜¯ä½¿ç”¨helperæä¾›çš„å„ç§tagæ¥è¿›è¡Œæè¿°ã€‚
</p>

<p>
æƒ³è¦è§¦å‘ajaxè¯·æ±‚å¾ˆå®¹æ˜“ï¼Œåªéœ€è¦æ­£ç¡®çš„ç”¨å¯¹tagå°±å¯ä»¥äº†ã€‚æ¯”å¦‚ï¼š
</p>

<pre class="example">
&lt;%= form_tag("/welcome/test.json",:id =&gt; "viper", remote: true)  do%&gt;
&lt;%= text_area_tag 'str', @res%&gt;
&lt;%= submit_tag 'Save' %&gt;
&lt;% end %&gt;
</pre>

<p>
ç°åœ¨çš„å‘ç°æ˜¯ï¼Œå„ç§è¾“å…¥ï¼Œåœ¨railsä¸­éƒ½æœ‰å¯¹åº”çš„tgpæ¥ä½¿ç”¨ã€‚åœ¨æ‰‹å†™inputçš„æƒ…å†µä¸‹ï¼Œè¡¨å•æäº¤ä¼šå¸¦å…¥ä¸äº†æ•°æ®ï¼Œæš‚æ—¶è¿˜ä¸çŸ¥é“æ˜¯ä¸ºä»€ä¹ˆã€‚
</p>
</div>
</div>

<div id="outline-container-orgheadline7" class="outline-3">
<h3 id="orgheadline7">CoffeeScript</h3>
<div class="outline-text-3" id="text-orgheadline7">
<p>
Ajaxå›è°ƒçš„è§¦å‘å¦‚ä¸‹ï¼Œåœ¨controllerå¯¹åº”çš„js.coffeeæ–‡ä»¶å†…ï¼Œå†™ä¸‹
</p>

<pre class="example">
$(document).ready -&gt;
$("#viper").on "ajax:success", (e, data, status, xhr) -&gt;
console.log($("#users").toArray());
console.log(data);
</pre>

<p>
ç±»ä¼¼çš„ä»£ç å³å¯ã€‚æˆ‘çš„æ‚²å‰§åœ¨äºhtml.erbæ–‡ä»¶çš„åº•éƒ¨ç”±äºæ‹·è´Bootstrapçš„æ¨¡æ¿è¿˜å¼•ç”¨äº†JQueryï¼Œç»“æœè¿™ä¸ªå›è°ƒä¸€ç›´æ²¡æœ‰è°ƒé€šã€‚åœ¨æŸæ¬¡ç½‘ä¸å¥½çš„æƒ…å†µä¸‹ï¼Œçªç„¶æˆåŠŸçš„æ‰“å‡ºäº†logã€‚äºæ˜¯æ‰å‘ç°æ˜¯è¿™ä¸ªé—®é¢˜ï¼Œåˆ é™¤ä¹‹åå°±OKäº†ã€‚
</p>

<p>
ä¸€å…±èŠ±è´¹äº†å¤§çº¦4+ä¸ªå°æ—¶æ¥è°ƒé€šajaxï¼Œå…¶ä¸­å¤§éƒ¨åˆ†éƒ½æ˜¯ä¸äº†è§£åƒçš„äºï¼Œå¥½ç–¼ã€‚
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline8" class="outline-2">
<h2 id="orgheadline8"><span class="todo TODO">TODO</span> </h2>
<div class="outline-text-2" id="text-orgheadline8">
<ol class="org-ol">
<li>å°†AJAXçš„æœºåˆ¶å†å¥½å¥½äº†è§£ä¸€ä¸‹ï¼Œç”¨Ajaxåœ¨Railsä¸Šåšå‡ºä¸€ä¸ªå®Œæ•´çš„Game Of Life
ç½‘é¡µå°åŠ¨ç”»å¤„æ¥ã€‚</li>
<li>å­¦ä¹ Bootstrapåšä¸€ä¸ªæ¼‚äº®çš„é¦–é¡µè®¨å¥½ä¸€ä¸‹è€å©†</li>
<li>å¤šäº†è§£Railsçš„conventionï¼Œå­¦ä¹ å…¶ä¸­çš„ç²¾åï¼Œæ¯”å¦‚çœ‹åˆ°çš„remote:trueçš„é…ç½®(Unobtrusive
JavaScript)çš„ç†å¿µï¼Œå®Œå…¨å¯ä»¥åœ¨æ—¥å¸¸ä¸­æƒ³åŠæ³•å€Ÿé‰´ä¸€ä¸‹ä½¿ç”¨çš„ã€‚</li>
<li>ä¸šä½™å¤šäº†è§£jsï¼Œcssç­‰å‰ç«¯ç›¸å…³æŠ€æœ¯</li>
</ol>
</div>
</div>

</div>
</div>]]></description>
      <pubDate>2016-02-03</pubDate>
      <guid>http://blog.enzotech.in/blog/2013/12/20/rails-åˆæ¢/</guid>
    </item>
    <item>
      <title>rubyçš„httpè¯·æ±‚å°è„šæœ¬</title>
      <link>http://blog.enzotech.in/blog/2013/12/31/rubyçš„httpè¯·æ±‚å°è„šæœ¬/</link>
      <description><![CDATA[<div>
<div class="post">
<h1>rubyçš„httpè¯·æ±‚å°è„šæœ¬</h1>
<p>
ç»è¿‡æ˜¨å¤©çš„å®éªŒï¼Œå€˜è‹¥æ¥å£åšçš„äº‹æƒ…è¿‡å¤šæ—¶é—´è¶…é•¿ï¼Œä¼šè¢«nginxæ‹’ç»è¯·æ±‚è¿”å›è¶…æ—¶ã€‚
</p>

<p>
æ‰€ä»¥ç”¨rubyåšäº†ä¸€ä¸ªæ‰¹é‡è°ƒæ¥å£çš„å°è„šæœ¬ï¼Œ*æœ‰éœ€è¦çš„äººè‡ªå–è‡ªæ”¹*ã€‚
</p>

<div class="org-src-container">

<pre class="src src-ruby">require "open-uri"
require "net/https"
require "uri"

cookie =
'dpadmin=360cc4800098092534fa9aedb4a78bf0b33f67e84c35660076ba6c9eab84847e0d3614348edfa4d4a8bf630529b40a28322230194c2ac52ef51c2ba4f310b9b1;
Domain=dper.com; Expires=Mon, 30-Dec-2013 22:38:45 GMT;
JSESSIONID=EA9BE36A86DCE564D7ED47571E79D82C; ' $headers =
{"cookie"=&gt;cookie}

def getFromUri(dealGroupId,uri,headers) req =
Net::HTTP::Get.new(uri,headers) res = Net::HTTP.start(uri.host) do
|http| http.request(req) end return res end

def postForm(dealGroupId,uri,headers) req =
Net::HTTP::Post.new(uri,$headers)
req.set\_form\_data(:statusId=&gt;0,:isValid=&gt;false,:dealGroupId=&gt;dealGroupId)
res = Net::HTTP.start(uri.host) do |http| http.request(req) end return
res; end

def publish(dealGroupId) uri =
URI::parse("http://tgplatform.sys.www.dianping.com/publish/fullPublish?
dealGroupId=#{dealGroupId}") res = getFromUri(dealGroupId,uri,$headers)
puts "#{dealGroupId}"+res.body end

def changeStatus(dealGroupId) uri =
URI::parse("http://tgplatform.sys.www.dianping.com/operation/setStatusId")
res = postForm(dealGroupId,uri,$headers) puts
"#{dealGroupId}"+"--status--"+res.body end

def changeIsValid(dealGroupId) uri =
URI::parse("http://tgplatform.sys.www.dianping.com/operation/setIsValid")
res = postForm(dealGroupId,uri,$headers) puts
"#{dealGroupId}"+"--valid--"+res.body end

[0].each do |dealGroupId|
 publish(dealGroupId)
end

[2100131] .each do |dealGroupId| changeStatus(dealGroupId)
changeIsValid(dealGroupId) end {% endhighlight %}
</pre>
</div>

<p>
Cookieä½¿ç”¨è‡ªå·±çš„
</p>

</div>
</div>]]></description>
      <pubDate>2016-02-03</pubDate>
      <guid>http://blog.enzotech.in/blog/2013/12/31/rubyçš„httpè¯·æ±‚å°è„šæœ¬/</guid>
    </item>
    <item>
      <title>&lt;æ”¹å˜æœªæ¥çš„ç®—æ³•&gt; ç¬”è®°</title>
      <link>http://blog.enzotech.in/blog/2014/09/07/&lt;æ”¹å˜æœªæ¥çš„ç®—æ³•&gt;-ç¬”è®°/</link>
      <description><![CDATA[]]></description>
      <pubDate>2016-02-03</pubDate>
      <guid>http://blog.enzotech.in/blog/2014/09/07/&lt;æ”¹å˜æœªæ¥çš„ç®—æ³•&gt;-ç¬”è®°/</guid>
    </item>
    <item>
      <title>common-lisp åˆ†äº«ç¬”è®°</title>
      <link>http://blog.enzotech.in/blog/2014/11/05/common-lisp-åˆ†äº«ç¬”è®°/</link>
      <description><![CDATA[]]></description>
      <pubDate>2016-02-03</pubDate>
      <guid>http://blog.enzotech.in/blog/2014/11/05/common-lisp-åˆ†äº«ç¬”è®°/</guid>
    </item>
    <item>
      <title>sicp ç¬¬ä¸€ç« ä¹ é¢˜</title>
      <link>http://blog.enzotech.in/blog/2014/11/30/sicp-ç¬¬ä¸€ç« ä¹ é¢˜/</link>
      <description><![CDATA[<div>
<div class="post">
<h1>sicp ç¬¬ä¸€ç« ä¹ é¢˜</h1>
<div class="org-src-container">

<pre class="src src-lisp">;;; ch1.lisp ---
;;
;; Filename: ch1.lisp
;; Description:
;; Author: Liu Enze
;; Maintainer:
;; Created: Sat Nov 29 17:30:04 2014 (+0800)
;; Version:
;; Package-Requires: ()
;; Last-Updated: Wed Feb  3 15:23:10 2016 (+0800)
;;           By: Liu Enze
;;     Update #: 30
;; URL:
;; Doc URL:
;; Keywords:
;; Compatibility:
;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;
;;; Commentary:
;;  For all the exercises in SICP Charpter1 .
;;  Using Common Lisp (SBCL v 1.2.2)
;;  Based on SICP 2nd version
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;
;;; Change Log:
;;
;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;
;; This program is free software: you can redistribute it and/or modify
;; it under the terms of the GNU General Public License as published by
;; the Free Software Foundation, either version 3 of the License, or (at
;; your option) any later version.
;;
;; This program is distributed in the hope that it will be useful, but
;; WITHOUT ANY WARRANTY; without even the implied warranty of
;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
;; General Public License for more details.
;;
;; You should have received a copy of the GNU General Public License
;; along with GNU Emacs.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;
;;; Code:

;;Utility
(defun id (x) x)

;;Ex1

10 ;;10
(+ 5 3 4) ;;12
(- 9 1) ;;8
(/ 6 2) ;;3
(+ (* 2 4) (- 4 6)) ;;6
(defvar a 4) ;;a
(defvar b (+ a 1)) ;;b
(+ a b (* a b)) ;;29
(= a b) ;;nil
(if (and (&gt; b a) (&lt; b (* a b)))
    b
    a) ;;5
(cond ((= a 4) 6)
      ((= b 4) (+ 6 7 a))
      (t 25)) ;;6
(+ 2 (if (&gt; b a) b a)) ;;7
(* (cond ((&gt; a b) a)
         ((&lt; a b) b)
         (t -1))
   (+ a 1)) ;;25

;;Ex2
(/ (+ 5 4 (- 2 (- 3 (+ 6 (/ 4 5)))))
   (* 3 (- 6 2) (- 2 7))) ;;-37/150

;;Ex3
(defun sum-of-largest-two (a b c)
  (let ((min (min a b c)))
    (- (+ a b c) min)))

;;Ex4
(defun a-plus-abs-b (a b)
  "Return a plus b if b is positive, else return a minus b.
So, according to b, choose the fit function between + and -, then apply this
function to (a b). "
  (funcall (if (&gt; b 0) #'+ #'-) a b))

;;Ex5
"1. 0 2. infinite loop"

;;Ex6
"Infinite loop. Since before calling new-if, all the params will be evaluted, so the sprt function will always be called.
"

;;Ex7
(defun my-sqrt (n)
  "don't work for 0..."
  (labels ((good-enough (guess last)
             (&lt; (/ (abs  (- guess last)) last) 0.000001))
           (improve (guess)
             (/ (+ guess (/ n guess)) 2))
           (sqrt-iter (guess last)
             (if (good-enough guess last)
                 guess
                 (sqrt-iter (improve guess) guess))))
    (sqrt-iter 2 1)))

;;Ex8
(defun my-cube-root (n)
  "don't work for 0..."
  (labels ((good-enough (guess last)
             (&lt; (/ (abs  (- guess last)) last) 0.000001))
           (improve (guess)
             (/ (+ (/ n (* guess guess )) (* 2 guess)) 3))
           (cube-iter (guess last)
             (if (good-enough guess last)
                 guess
                 (cube-iter (improve guess) guess))))
    (cube-iter 2 1)))

;;Ex9
(defun my-+-1 (a b)
  "recursive calculation. (+ 4 5) ==&gt; (1+ (+ 3 5)) ==&gt; (1+ (1+ (+ 2 5))) ..."
  (if (= a 0)
      b
      (1+ (+ (1- a) b))))

(defun my-+-2 (a b)
  "iterate calculation. (+ 4 5) ==&gt; (+ 3 6) ==&gt; (+ 2 7) ..."
  (if (= a 0)
      b
      (+ (1- a) (1+ b))))

;;Ex10
(defun A (x y)
  (cond ((= y 0) 0)
        ((= x 0 ) (* 2 y))
        ((= y 1 ) 2)
        (t (A (1- x) (A x (1- y))))))

(A 1 10) ;; 1024
(A 2 4) ;; 65536
(A 3 3) ;; 65536

(defun f (n) (A 0 n)) ; ==&gt; f(n)=2n
(defun g (n) (A 1 n)) ; ==&gt; g(n)=2^n (n&gt;0);g(n)=0 (n=0); infinite loop (n&lt;0)
(defun h (n) (A 2 n)) ; ==&gt; h(n)=2^(2^n) (n&gt;0);h(n)=0;infinite loop (n&lt;0)

;;Ex11
(defun f-r (n)
  "recurise version of f"
  (if (&lt; n 3)
      n
      (+ (f-r (- n 1)) (* 2 (f-r (- n 2))) (* 3 (f-r (- n 3))))))
(defun f-i (n)
  "iterate version of f"
  (labels
      ((func (a b c)
         (+ a (* 2 b) (* 3 c)))
       (f-iter (n a b c)
         (if (= n 0)
             (func a b c)
             (f-iter (1- n) (func a b c) a b))))
    (if (&lt; n 3)
        n
        (f-iter (- n 3) 2 1 0))))

(dotimes (i 10) (format t "recu: ~d, iter: ~d~%" (f-r i) (f-i i)))

;;Ex 12
(defun tri (n m)
  "calculate the yanghui triangle, the n column and the m row."
  (cond ((= m 0) 1)
        ((= (1- n) m) 1)
        (t (+ (tri (1- n) (1- m)) (tri (1- n) m)))))
(dotimes (i 7) (dotimes (j i) (format t "~d " (tri i j))) (format t "~%"))

;;Ex13

;;Ex16
(defun my-exp (b n)
  "calculate b^n.  In exp-iter , a is a state"
  (labels ((exp-iter (a b n)
             (cond ((= n 0) a)
                   ((= (mod n 2) 0) (exp-iter a (* b b) (/ n 2)))
                   (t (exp-iter (* a b) (* b b) (/ (1- n) 2))))))
    (exp-iter 1 b n)))

;;Ex17 Ex18
(defun my-multi (b n)
  "calculate b*n. "
  (labels ((multi-iter (a b n)
             (cond ((= n 0) a)
                   ((= (mod n 2) 0) (multi-iter a (+ b b) (/ n 2)))
                   (t (multi-iter (+ a b) (+ b b) (/ (1- n) 2))))))
    (multi-iter 0 b n)))

;;Ex19
(defun my-fast-fib (n)
  "T is (p q | q p+q) (a b) is (0 1), T^2 makes p1=p^2+q^2,q1=pq+q(p+q)"
  (labels ((fib-iter (a b p q n)
             (cond ((= n 0) a)
                   ((evenp n) (fib-iter a b
                                        (+ (* p p) (* q q))
                                        (+ (* q q) (* 2 p q))
                                        (/ n 2)))
                   (t (fib-iter
                       (+ (* a p) (* b q))
                       (+ (* a q) (* b q) (* b p))
                       p q
                       (1- n) )))))
    (fib-iter 0 1 0 1 n)))
(dotimes (i 10) (print (my-fast-fib i)))

;;Ex21
(defun smallest-divisor (n)
  (loop for i from 2 to n
     when (= 0 (mod n i)) return i))

(mapcar #'smallest-divisor '(199 1999 19999)) ; ==&gt; (199 1999 7)

;;Ex22,23
(defun next-odd (n) (if (evenp n ) (1+ n) (+ n 2)))
(defun smallest-divisor-1 (n)
  (do ((i 2 (next-odd i)))
      ((= 0 (mod n i)) i)))
(defun my-primep (n)
  (if (= (smallest-divisor-1 n) n) t nil))
(defun next-prime (n)
  (do ((i n (next-odd i)))
      ((my-primep i) i)))

(defun smallest-primes (start num)
  (do* ((sp (next-prime start) (next-prime (1+ sp)))
        (i 1 (1+ i))
        (res (list sp) (append res (list sp))))
       ((= i num) res)))

(time (smallest-primes 1000 3))
(time (smallest-primes 10000 3))
(time (smallest-primes 100000 3))

;;Ex24-28
;;...

;;Ex29
(defun simpson (fn n a b)
  (let ((h (/ (- b a) n)))
    (do* ((i 0 (1+ i))
          (y (funcall fn (+ a (* i h))) (funcall fn (+ a (* i h))))
          (sum y (+ sum (* y (cond ((= i n) 1)
                                   ((evenp (- i n)) 2)
                                   (t 4))))))
         ((= i n) (/ (* h sum) 3)))))
(defun my-cube (x) (* x x x))
(simpson #'my-cube 100 0 1) ;; ==&gt; 1/4
(simpson #'my-cube 10000 0 1) ;; ==&gt; 1/4

;;Ex30
(defun sum (term a next b)
  "Original recusive version."
  (if (&gt; a b)
      0
      (+ (funcall term a)
         (sum term (funcall next a) next b))))
(defun my-sum (term a next b)
  "Iterate version."
  (labels ((sum-iter (cur res)
             (if (&gt; cur b)
                 res
                 (sum-iter (funcall next cur) (+ (funcall term cur) res)))))
    (sum-iter a 0)))


;;Ex31
(defun my-product (term a next b)
  "Iterate version."
  (labels ((product-iter (cur res)
             (if (&gt; cur b)
                 res
                 (product-iter (funcall next cur) (* (funcall term cur) res)))))
    (product-iter a 1)))

(defun my-product-1 (term a next b)
  "Recursive version."
  (if (&gt; a b)
      1
      (* (funcall term a)
         (my-product-1 term (funcall next a) next b))))

(defun factorial (n)
  (my-product #'(lambda (x) x) 1 #'1+ n))

(factorial 8);; ==&gt; 40320

(defun square (x) (* x x))
(defun cal-pi (n)
  (* (/ 8 (* 2 (1+ n)))
     (my-product #'(lambda (x) (square (/ (* 2 (1+ x)) (+ 1 (* 2 x)))))
                 1
                 #'1+
                 n)))

(float (cal-pi 1000)) ;; ==&gt; 3.1423774

;;Ex32
(defun accumulate (combiner base term a next b)
  (labels ((iter (cur res)
             (if (&gt; cur b)
                 res
                 (iter (funcall next cur)
                       (funcall combiner res (funcall term cur))))))
    (iter a base)))
(defun a-sum (term a next b) (accumulate #'+ 0 term a next b))
(defun a-product (term a next b) (accumulate #'* 1 term a next b))

(a-product #'(lambda (x) x) 1 #'1+ 10 );; ==&gt;3628800

;;Ex33
(defun filter-accumulate (combiner filter base term a next b)
  (labels ((iter (cur res)
             (if (&gt; cur b)
                 res
                 (iter (funcall next cur)
                       (if (funcall filter cur)
                           (funcall combiner res (funcall term cur))
                           res)))))
    (iter a base)))
(defun sum-prime (a b)
  (filter-accumulate #'+ #'my-primep 0 #'id a #'1+ b)) ;; (sum-prime 2 5) ==&gt; 10
(defun product-relatively-prime-less-than-n (n)
  (filter-accumulate #'* #'(lambda (x) (= 1 (gcd x n))) 1 #'id 1 #'1+ n)) ;;(product-relatively-prime-less-than-n 5) ==&gt; 24

;;Ex34
;; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; (ex34-f #'ex34-f)
;; 2 fell through ETYPECAÃ±SE expression.
;; Wanted one of (SYMBOL FUNCTION).
;;[Condition of type SB-KERNEL:CASE-FAILURE]
;; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
(defun ex34-f (g)
  (funcall g 2))

;;Ex35
(defparameter *tolerance* 0.0000001)
(defun fix-point (f guess)
  (labels ((closep (v1 v2)
             (&lt; (abs (-  v1 v2)) *tolerance*))
           (try (guess)
             (let ((next (funcall f guess)))
               (if (closep next guess)
                   next
                   (try next)))))
    (try guess)))
(defun gold-radio-gen (x) (+ 1 (/ 1 x)))
(fix-point #'gold-radio-gen 1)

;;Ex36
(defun fix-point-print (f guess)
  (labels ((closep (v1 v2)
             (&lt; (abs (-  v1 v2)) *tolerance*))
           (try (guess)
             (let ((next (funcall f guess)))
               (print guess)
               (if (closep next guess)
                   next
                   (try next)))))
    (try guess)))

;;Ex37-40 ...

;;Ex41
(defun my-double (f)
  (lambda (x) (funcall f (funcall f x))))

(funcall (funcall (my-double (my-double #'my-double)) #'1+) 5)

;;Ex42
(defun compose (f g)
  (lambda (x) (funcall f (funcall g x))))

(funcall (compose #'square #'1+) 6 ) ;;==&gt; 49

;;Ex43
(defun repeated (f n)
  (if (= n 1)
      f
      (compose f (repeated f (1- n)))))

(funcall (repeated #'square 2) 5) ;==&gt; 625

;;Ex44
(defparameter *dx* 0.0001)
(defun smooth (f)
  (lambda (x) (/ (+ (funcall f (+ x *dx*))
               (funcall f (- x *dx*))
               (funcall f x))
            3)))

(defun smooth-n (f n)
  (funcall (repeated #'smooth n) f)

;;Ex45-46...

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; ch1.lisp ends here
</pre>
</div>

</div>
</div>]]></description>
      <pubDate>2016-02-03</pubDate>
      <guid>http://blog.enzotech.in/blog/2014/11/30/sicp-ç¬¬ä¸€ç« ä¹ é¢˜/</guid>
    </item>
    <item>
      <title>Lisp æ¨¡æ‹Ÿ Assembler</title>
      <link>http://blog.enzotech.in/blog/2014/12/25/lisp-æ¨¡æ‹Ÿ-assembler/</link>
      <description><![CDATA[<div>
<div class="post">
<h1>Lisp æ¨¡æ‹Ÿ Assembler</h1>
<p>
é€šè¿‡Common Lispï¼Œæ¨¡æ‹Ÿassembler machineçš„è¿è¡Œã€‚
</p>

<p>
å‚è€ƒSICP charpter5.
</p>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1">machine.lisp</h2>
<div class="outline-text-2" id="text-orgheadline1">
<div class="org-src-container">

<pre class="src src-lisp">;;; machine.lisp ---
;;
;; Filename: machine.lisp
;; Description:
;; Author: Liu Enze
;; Maintainer:
;; Created: Thu Dec 11 14:39:16 2014 (+0800)
;; Version:
;; Package-Requires: ()
;; Last-Updated: Wed Feb  3 15:23:35 2016 (+0800)
;;           By: Liu Enze
;;     Update #: 54
;; URL:
;; Doc URL:
;; Keywords:
;; Compatibility:
;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;
;;; Commentary:
;;
;;
;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;
;;; Change Log:
;;
;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;
;; This program is free software: you can redistribute it and/or modify
;; it under the terms of the GNU General Public License as published by
;; the Free Software Foundation, either version 3 of the License, or (at
;; your option) any later version.
;;
;; This program is distributed in the hope that it will be useful, but
;; WITHOUT ANY WARRANTY; without even the implied warranty of
;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
;; General Public License for more details.
;;
;; You should have received a copy of the GNU General Public License
;; along with GNU Emacs.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;
;;; Code:

(defun make-machine (registers ops controller-text)
  (let ((machine (make-new-machine)))
    (mapcar #'(lambda (register-name)
                (funcall
                 (funcall machine 'allocate-register) register-name))
            registers)
    (funcall (funcall machine 'install-operations) ops)
    (funcall (funcall machine 'install-instruction-sequence)
             (e_assemble controller-text machine))
    machine))

(defun make-register (name)
  (let ((contents '*unassigned*))
    (lambda (message)
      (cond ((eq message 'get) contents)
            ((eq message 'set)
             (lambda (value) (setf contents value)))
            (t (error "~S :Unknown request -- REGISTER ~S" message name))))))

(defun get-contents (register)
  (funcall register 'get))

(defun set-contents (register value)
  (funcall (funcall register 'set) value))

(defun make-stack ()
  (let ((s '()))
    (flet ((push-stack (x) (setf s (cons x s)))
           (pop-stack ()
             (if (null s)
                 (error "Empty stack --- POP")
                 (let ((top (car s)))
                   (setf s (cdr s))
                   top)))
           (initialize () (setf s '()) 'done))
      (lambda (message)
        (cond ((eq message 'push) #'push-stack)
              ((eq message 'pop) (pop-stack))
              ((eq message 'initialize) (initialize))
              (t (error "~S :Unknown request --STACK" message)))))))

(defun pop-stack (stack)
  (funcall stack 'pop))

(defun push-stack (stack value)
  (funcall  (funcall stack 'push) value))

(defun instruction-execution-proc (inst)
  (cdr inst))

(defun make-new-machine ()
  (let ((pc (make-register 'pc))
        (flag (make-register 'flag))
        (stack (make-stack))
        (the-instruction-sequence '()))
    (let ((the-ops
           (list (list 'initialize-stack
                       (lambda () (funcall stack 'initialize)))))
          (register-table
           (list (cons 'pc pc) (cons 'flag flag))))
      (labels ((allocate-register (name)
                 (if (assoc name register-table)
                     (error "Multiply defined register: ~S" name)
                     (setf register-table
                           (cons (cons name (make-register name))
                                 register-table)))
                 'register-allocated)
               (lookup-register (name)
                 (let ((val (assoc name register-table)))
                   (if val (cdr val) (error "Unknown register: ~S~%~S"
                                            name
                                            register-table))))
               (execute ()
                 (let ((insts (get-contents pc)))
                   (if (null insts)
                       'done
                       (progn
                         (funcall (instruction-execution-proc (car insts)))
                         (execute))))))
        (lambda (message)
          (cond
            ((eq message 'instructions) the-instruction-sequence)
            ((eq message 'start)
             (set-contents pc the-instruction-sequence)
             (execute))
            ((eq message 'install-instruction-sequence)
             (lambda (seq) (setf the-instruction-sequence seq)))
            ((eq message 'allocate-register) #'allocate-register)
            ((eq message 'get-register) #'lookup-register)
            ((eq message 'install-operations)
             (lambda (ops) (setf the-ops (append the-ops ops))))
            ((eq message 'stack) stack)
            ((eq message 'operations) the-ops)
            (t (error "Unknown request -- MACHINE: ~S" message))))))))

(defun start (machine)
  (funcall machine 'start))

(defun get-register (machine register-name)
  (funcall (funcall machine 'get-register) register-name))

(defun get-register-contents (machine register-name)
  (get-contents (get-register machine register-name)))

(defun set-register-contents (machine register-name value)
  (set-contents (get-register machine register-name) value)
  'done)

(defun install-instruction (machine instructions)
  (funcall (funcall machine 'install-instruction-sequence) instructions))

(defun e_assemble (controller-text machine)
  (extract-labels controller-text
                  (lambda (insts labels)
                    (update-insts! insts labels machine))))

(defun extract-labels (text receive)
  (if (null text)
      (funcall receive '() '())
      (extract-labels (cdr text)
                      (lambda (insts labels)
                        (let ((next-inst (car text)))
                          (if (symbolp next-inst)
                              (funcall receive insts
                                       (cons (make-label-entry
                                              next-inst
                                              insts)
                                             labels))
                              (funcall receive (cons
                                                (make-instruction
                                                 next-inst)
                                                insts)
                                       labels)))))))

(defun update-insts! (insts labels machine)
  (let ((pc (get-register machine 'pc))
        (flag (get-register machine 'flag))
        (stack (funcall machine 'stack))
        (ops (funcall machine 'operations)))
    (loop for inst in insts collect (set-instruction-execution-proc!
                                     inst
                                     (make-execution-procedure
                                      (instruction-text inst) labels machine
                                      pc flag stack ops)))))

(defun make-instruction (text)
  (cons text '()))

(defun instruction-text (inst)
  (car inst))

(defun set-instruction-execution-proc! (inst proc)
  (setf (cdr inst) proc)
  inst)

(defun make-label-entry (label-name insts)
  (cons label-name insts))

(defun lookup-label (all-labels label-name)
  (let ((val (assoc label-name all-labels)))
    (if val
        (cdr val)
        (error "Undefined label -- ASSEMBLE: ~S" label-name))))

(defun make-execution-procedure (inst labels machine
                                 pc flag stacks ops)
  (cond ((eq (car inst) 'assign)
         (make-assign inst machine labels ops pc))
        ((eq (car inst) 'test)
         (make-test inst machine labels ops flag pc))
        ((eq (car inst) 'branch)
         (make-branch inst machine labels flag pc))
        ((eq (car inst) 'goto)
         (make-goto inst machine labels pc))
        ((eq (car inst) 'save)
         (make-save inst machine stacks pc))
        ((eq (car inst) 'restore)
         (make-restore inst machine stacks pc))
        ((eq (car inst) 'perform)
         (make-perform inst machine labels ops pc))
        (t (error "Unknown instruction type -- ASSEMBLE : ~S" inst))))

(defun make-assign (inst machine labels operations pc)
  (let ((target (get-register machine (assign-reg-name inst)))
        (value-exp (assign-value-exp inst)))
    (let ((value-proc
           (if (operation-exp value-exp)
               (make-operation-exp
                value-exp machine labels operations)
               (make-primitive-exp
                (car value-exp) machine labels))))
      (lambda ()
        (set-contents target (funcall value-proc))
        (advance-pc pc)))))

(defun assign-reg-name (assign-instruction)
  (cadr assign-instruction))

(defun assign-value-exp (assign-instruction)
  (cddr assign-instruction))

(defun advance-pc (pc)
  (set-contents pc (cdr (get-contents pc))))

(defun make-test (inst machine labels operations flag pc)
  (let ((condition (test-condition inst)))
    (if (operation-exp condition)
        (let ((condition-proc
               (make-operation-exp
                condition machine labels operations)))
          (lambda ()
            (set-contents flag (funcall condition-proc))
            (advance-pc pc)))
        (error "Bad Test instruction -- ASSEMBLE: ~S" inst))))

(defun test-condition (test-instruction)
  (cdr test-instruction))

(defun make-branch (inst machine labels flag pc)
  (let ((dest (branch-dest inst)))
    (if (label-exp dest)
        (let ((insts (lookup-label labels (label-exp-label dest))))
          (lambda ()
            (if (get-contents flag)
                (set-contents pc insts)
                (advance-pc pc))))
        (error "Bad Branch instruction --ASSEMBLE: ~S" inst))))

(defun branch-dest (branch-instruction)
  (cadr branch-instruction))

(defun make-goto (inst machine labels pc)
  (let ((dest (goto-dest inst)))
    (cond ((label-exp dest)
           (let ((insts (lookup-label labels
                                      (label-exp-label dest))))
             (lambda ()
               (set-contents pc insts))))
          ((register-exp dest)
           (let ((reg
                  (get-register machine (register-exp-reg dest))))
             (lambda () (set-contents pc (get-contents reg)))))
          (t (error "BAD GOTO instruction -- ASSEMBLE : ~S" inst)))))

(defun goto-dest (goto-instruction)
  (cadr goto-instruction))

(defun make-save (inst machine stack pc)
  (let ((reg (get-register machine
                           (stack-inst-reg-name inst))))
    (lambda ()
      (push-stack stack (get-contents reg))
      (advance-pc pc))))

(defun make-restore (inst machine stack pc)
  (let ((reg (get-register machine
                           (stack-inst-reg-name inst))))
    (lambda ()
      (set-contents reg (pop-stack stack))
      (advance-pc pc))))

(defun stack-inst-reg-name (stack-instruction)
  (cadr stack-instruction))

(defun make-perform (inst machine labels operations pc)
  (let ((action (perform-action inst)))
    (if (operation-exp action)
        (let ((action-proc (make-operation-exp
                            action machine labels operations)))
          (lambda ()
            (funcall action-proc)
            (advance-pc pc))
          )
        (error "Bad PERFORM instruction -- ASSEMBLE: ~S" inst))))

(defun perform-action (inst) (cdr inst))

(defun make-primitive-exp (exp machine labels)
  (cond ((constant-exp exp)
         (let ((c (constant-exp-value exp)))
           (lambda () c)))
        ((label-exp exp)
         (let ((insts (lookup-label labels
                                    (label-exp-label exp))))
           (lambda () insts)))
        ((register-exp exp)
         (let ((r (get-register machine (register-exp-reg exp))))
           (lambda () (get-contents r))))
        (t (error "Unknown expression type -- ASSEMBLE: ~S" exp))))

(defun register-exp (exp) (tagged-list exp 'reg))

(defun tagged-list (exp prefix)
  (eq (car exp) prefix))

(defun register-exp-reg (exp) (cadr exp))

(defun constant-exp (exp) (tagged-list exp 'const))

(defun constant-exp-value (exp) (cadr exp))

(defun label-exp (exp) (tagged-list exp 'label))

(defun label-exp-label (exp) (cadr exp))

(defun make-operation-exp (exp machine labels operations)
  (let ((op (lookup-prim (operation-exp-op exp) operations))
        (aprocs (mapcar (lambda (e) (make-primitive-exp e machine labels))
                        (operation-exp-operands exp))))
    (lambda () (apply op (mapcar (lambda (p) (funcall p)) aprocs)))))

(defun operation-exp (exp)
  (and (consp exp) (tagged-list (car exp) 'op)))

(defun operation-exp-op (operation-exp)
  (cadr (car operation-exp)))

(defun operation-exp-operands (operation-exp)
  (cdr operation-exp))

(defun lookup-prim (symbol operations)
  (let ((val (assoc symbol operations)))
    (if val
        (cadr val)
        (error "Unknown operation -- ASSEMBLE: ~S" symbol))))

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; machine.lisp ends here
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-2">
<h2 id="orgheadline2">Usage</h2>
<div class="outline-text-2" id="text-orgheadline2">
<div class="org-src-container">

<pre class="src src-lisp">(load "./machine.lisp")

(defun expt-machine ()
  (make-machine
   '(b n val continue)
   `((= ,#'=) (- ,#'-) (* ,#'*))
   '(controller
     (assign continue (label done))
     expt-loop
     (test (op =) (reg n) (const 0))
     (branch (label answer))
     (save continue)
     (assign continue (label after-expt-n-1))
     (save n)
     (assign n (op -) (reg n) (const 1))
     (goto (label expt-loop))
     after-expt-n-1
     (restore n)
     (restore continue)
     (assign val (op *) (reg val) (reg b))
     (goto (reg continue))
     answer
     (assign val (const 1))
     (goto (reg continue))
     done)))

(defparameter *m* (expt-machine))

(set-register-contents *m* 'b 2)
;;DONE
(set-register-contents *m* 'n 2)
;;DONE
(start *m*)
;;DONE
(get-register-contents *m* 'val)
;;4
</pre>
</div>
</div>
</div>

</div>
</div>]]></description>
      <pubDate>2016-02-03</pubDate>
      <guid>http://blog.enzotech.in/blog/2014/12/25/lisp-æ¨¡æ‹Ÿ-assembler/</guid>
    </item>
    <item>
      <title>çˆ±ä¸Šhaskell</title>
      <link>http://blog.enzotech.in/blog/2015/02/14/çˆ±ä¸Šhaskell/</link>
      <description><![CDATA[]]></description>
      <pubDate>2016-02-03</pubDate>
      <guid>http://blog.enzotech.in/blog/2015/02/14/çˆ±ä¸Šhaskell/</guid>
    </item>
    <item>
      <title>å°è¯•ç†è§£Y-combinator</title>
      <link>http://blog.enzotech.in/blog/2015/03/20/å°è¯•ç†è§£y-combinator/</link>
      <description><![CDATA[<div>
<div class="post">
<h1>å°è¯•ç†è§£Y-combinator</h1>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1">ç®€ä»‹</h2>
<div class="outline-text-2" id="text-orgheadline1">
<p>
åœ¨ä¸€ä¸ªçº¯ç²¹çš„å‡½æ•°å¼è¯­è¨€ç¯å¢ƒä¸­ï¼Œåªæœ‰ä¸€ç§å…ƒç´ ï¼Œå°±æ˜¯ä¸€ä¸ªå•å‚å‡½æ•°
</p>

<div class="org-src-container">

<pre class="src src-lisp">;; id function
(lambda (x) x)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-haskell">-- id function in haskll
\x -&gt; x
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-2">
<h2 id="orgheadline2">é—®é¢˜</h2>
<div class="outline-text-2" id="text-orgheadline2">
<p>
æ¯”å¦‚éœ€è¦æ±‚è§£ä¸€ä¸ªåˆ—è¡¨çš„é•¿åº¦ï¼Œè¯¥å¦‚ä½•å®ç°ã€‚
</p>

<p>
ç®—æ³•è§„åˆ™å¾ˆç®€å•ï¼š &gt; 1. ç©ºåˆ—è¡¨é•¿åº¦ä¸º0 &gt; 2. åˆ—è¡¨é•¿åº¦ç­‰äº 1 +
åˆ—è¡¨é™¤äº†å¤´éƒ¨å…ƒç´ ä»¥å¤–çš„éƒ¨åˆ†
</p>

<p>
å¸¸è§„çš„ç®—æ³•å®ç°å¦‚ä¸‹:
</p>
</div>

<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3">common lisp</h3>
<div class="outline-text-3" id="text-orgheadline3">
<div class="org-src-container">

<pre class="src src-lisp">;; in common lisp
(defun len (ls)
  (if (null ls)
      0
      (1+ (len (cdr ls)))))
</pre>
</div>

<pre class="example">
CL-USER&gt; (len '(1 2 3))
3
CL-USER&gt; (len '())
0
</pre>
</div>
</div>

<div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4">haskell</h3>
<div class="outline-text-3" id="text-orgheadline4">
<div class="org-src-container">

<pre class="src src-haskell">len1 :: (Num b ) =&gt; [a] -&gt; b
len1 [] = 0
len1 (_:xs) = 1 + len1 xs
</pre>
</div>

<pre class="example">
Î»&gt; len1 []
0
Î»&gt; len1 [1,2,3]
3
</pre>

<p>
ä½†æ˜¯ï¼Œå¦‚ä½•åŸºäºçº¯ç²¹çš„lambdaè¡¨è¾¾å¼å®ç°å‘¢ï¼Ÿ
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline5" class="outline-2">
<h2 id="orgheadline5">ç¬¬ä¸€æ¬¡å°è¯•</h2>
<div class="outline-text-2" id="text-orgheadline5">
<p>
å°è¯•ç¿»è¯‘ä¹‹å‰å†™è¿‡çš„å®ç°
</p>

<div class="org-src-container">

<pre class="src src-lisp">(lambda (ls)
  (if (null ls)
      0
      (1+ (?? (cdr ls)))))
</pre>
</div>

<p>
*æ€ä¹ˆåŠ*ï¼Œ=?= éƒ¨åˆ†æ— æ³•å¡«å……ã€‚å› ä¸ºç°åœ¨è¿™ä¸ªåŒ¿åå‡½æ•°æœ¨æœ‰åå­—
</p>
</div>

<div id="outline-container-orgheadline6" class="outline-3">
<h3 id="orgheadline6">ç¥æ¥ä¸€ç¬”</h3>
<div class="outline-text-3" id="text-orgheadline6">
<p>
å‡å¦‚æœ‰ä¸€ä¸ªlençš„å®ç°ï¼Œä¸å°±å¯ä»¥äº†ä¹ˆï¼ï¼ï¼ï¼
</p>

<div class="org-src-container">

<pre class="src src-lisp">(lambda (perfectLenFunc)
  (lambda (ls)
    (if (null ls)
        0
        (1+ (perfectLenFunc (cdr ls))))))
</pre>
</div>

<p>
å“‡æ“¦ï¼Œè¦æ˜¯æœ‰=perfectLenFunc=(åç»­ç®€å†™ä¸º=plf=&#x2026;),è¿˜åœ¨è¿™é‡Œæµªè´¹æ—¶é—´å¹²ç¥é©¬ã€‚
</p>

<p>
*å’³å’³*ï¼Œä¸æ€¥
</p>

<div class="org-src-container">

<pre class="src src-lisp">;; change to scheme, due to the function namespace
(define len1
    ((lambda (plf)
    (lambda (ls)
        (if (null? ls)
            0
            (1+ (plf (cdr ls))))))
    (lambda (ls)
    (if (null? ls)
        0
        (1+ (error (cdr ls)))))))
</pre>
</div>

<pre class="example">
scheme@(guile-user)&gt; (len1 '())
$3 = 0
scheme@(guile-user)&gt; (len1 '(a))
$4 = 1
scheme@(guile-user)&gt; (len1 '(a b))
ERROR: In procedure scm-error:
ERROR: ()
</pre>

<p>
å’¦ï¼Œè¿™æ ·å°±å¯ä»¥æ”¯æŒé•¿åº¦ä¸º0çš„åˆ—è¡¨å’Œé•¿åº¦ä¸º1çš„åˆ—è¡¨å’§ã€‚
</p>

<p>
æ•´ä½“ä¼˜åŒ–ä¸€ä¸‹é‡å¤ä»£ç 
</p>

<div class="org-src-container">

<pre class="src src-lisp">(define mk-len
  (lambda (plf)
    (lambda (ls)
        (if (null? ls)
            0
        (1+ (plf (cdr ls)))))))
(define len0 (mk-len error))
(define len1 (mk-len len0))
(define len2 (mk-len len1))
;; output
scheme@(guile-user)&gt;
(define len0 (mk-len error))
(define len1 (mk-len len0))
(define len2 (mk-len len1))
scheme@(guile-user)&gt; (len2 '(1 2))
$6 = 2
</pre>
</div>

<p>
çœ‹æ¥,åŠŸå¤«ä¸è´Ÿæœ‰å¿ƒäººï¼Œåªè¦è¶³å¤ŸåŠªåŠ›,
ä¸ç®¡å¤šé•¿çš„åˆ—è¡¨ï¼Œéƒ½èƒ½å†™å‡ºå¯¹åº”çš„å‡½æ•°ç®—å‡ºæ¥ï¼ &gt; å¤ªå¤©çœŸäº†å°‘å¹´ ï¼ˆç”»å¤–éŸ³ï¼‰
</p>
</div>
</div>

<div id="outline-container-orgheadline7" class="outline-3">
<h3 id="orgheadline7">ç¥åˆæ¥ä¸€ç¬”</h3>
<div class="outline-text-3" id="text-orgheadline7">
<p>
æ—¶é—´è¿‡å»äº†ä¸€å¹´ï¼Œå°‘å¹´ç»ˆäºå†™å‡ºäº†å¯ä»¥è®¡ç®—é•¿åº¦
=14239823586=ä»¥å†…çš„åˆ—è¡¨çš„é•¿åº¦ï¼
</p>

<p>
çªç„¶ä¸€ä¸ªéœ¹é›³ä»å¤©è€Œé™ &gt; ä½ ä¸ªXXï¼Œæƒ³å†™åˆ°æ­»å•Šï¼ï¼ï¼ï¼ (ç”»å¤–éŸ³again)
</p>

<p>
å’¦ï¼Œæ³¨æ„ <code>(define len0 (mk-len error))</code>,
=error=è€¶ï¼Œå²‚ä¸æ˜¯è¯´ä¸ç®¡æä¾›ç¥é©¬å‡½æ•°,éƒ½ ä¸å½±å“ä¹ˆ
</p>

<div class="org-src-container">

<pre class="src src-lisp">(define len2 (mk-len (mk-len (mk-len mk-len))))
;; output
scheme@(guile-user)&gt;
(define len2 (mk-len (mk-len (mk-len mk-len))))
scheme@(guile-user)&gt; (len2 '(1 2))
$8 = 2
</pre>
</div>

<p>
<b>å“‡ï¼Œé‚£å²‚ä¸æ˜¯å¯ä»¥è¿™æ ·ï¼ï¼ï¼</b>
</p>

<div class="org-src-container">

<pre class="src src-lisp">(define real-len
  ((lambda (mk-len)
     (mk-len mk-len))
   (lambda (mk-len)
     (lambda (l)
       (if (null? l) 0
         (1+ ((mk-len mk-len) (cdr l))))))))
scheme@(guile-user)&gt; (real-len '(1 2 3 a b d c s))
$9 = 8
</pre>
</div>

<p>
å¥½æ£’ï¼å¥½é™¶é†‰ï¼å¥½æ»¡è¶³ï¼ï¼ï¼
</p>
</div>
</div>

<div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8">ç¥åˆæ¥ä¸€ç¬”!</h3>
<div class="outline-text-3" id="text-orgheadline8">
<p>
ä¸è¿‡ï¼Œå†™å‡ºæ¥çš„ç¨‹åºçœ‹ç€å¥½å¥‡æ€ªã€‚å¥½å¤š=mk-len=,=ï¼ˆmk-len mk-lenï¼‰=,
<b>çœ‹ä¸æ‡‚å•Š</b>. åªæœ‰
</p>

<div class="org-src-container">

<pre class="src src-lisp">(lambda (l)
  (if (null? l) 0
    (1+ (?? (cdr l))))))))
</pre>
</div>

<p>
è¿™ä¸ªæ‰æ˜¯æˆ‘æƒ³è¦çš„å‘¢&#x2026; é‚£å°±æƒ³åŠæ³•æŠŠ=(mklen mklen)=
æå‡ºå»ï¼Œåšå‚æ•°ä¼ è¿›æ¥å¥½äº†ğŸ‘Œ
</p>

<div class="org-src-container">

<pre class="src src-lisp">((lambda (mk-len)
   (mk-len mk-len))
 (lambda (mk-len)
   ((lambda (len)
      (lambda (l)
        (if (null? l) 0
          (1+ (len (cdr l))))))
    (lambda (x) ((mk-len mk-len) x)))))
</pre>
</div>

<p>
å“‡ï¼Œä¸­é—´çš„ä»£ç çœ‹èµ·æ¥ï¼Œæœ‰ç‚¹åƒé‚£ä¹ˆä¸€å›äº‹äº†ã€‚æƒ³åŠæ³•æŒªæŒªç»“æ„ï¼Œæ›´å¥½çœ‹ä¸€ç‚¹ã€‚
</p>

<div class="org-src-container">

<pre class="src src-lisp">((lambda (len')
   ((lambda (mk-len) (mk-len mk-len))
    (lambda (mk-len) (len' (lambda (x) ((mk-len mk-len) x))))))
 (lambda (len)
   (lambda (l)
     (if (null? l) 0
       (1+ (len (cdr l)))))))
</pre>
</div>

<p>
<b>BINGO</b> !!
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline9" class="outline-2">
<h2 id="orgheadline9">the ultimate Y-Combinator</h2>
<div class="outline-text-2" id="text-orgheadline9">
<div class="org-src-container">

<pre class="src src-lisp">(define Y
  (lambda (targetFunction)
    ((lambda (f) (f f))
     (lambda (f) (targetFunction (lambda (x) ((f f) x)))))))

(define len
  ( Y (lambda (len')
        (lambda (l)
          (if (null? l) 0
            (1+ (len' (cdr l))))))))
;; output
scheme@(guile-user)&gt; (len '(a b d c dd s sf ad f))
$10 = 9
</pre>
</div>

<p>
<b>ç‚«é…·çˆ†æ£šäº†!</b> æœ‰æ²¡æœ‰
</p>
</div>
</div>

<div id="outline-container-orgheadline10" class="outline-2">
<h2 id="orgheadline10">å®è·µ</h2>
<div class="outline-text-2" id="text-orgheadline10">
<p>
in haskell
</p>

<div class="org-src-container">

<pre class="src src-haskell">-- here is where miracle begins
newtype Rec a = In { out :: Rec a -&gt; a } -- for type deduction

y :: (a -&gt; a) -&gt; a
y tf = (\f -&gt; out f f) $In (\f -&gt; tf (out f f))


ylen :: (Num b) =&gt; [a]-&gt;b
ylen = y (\len' ls -&gt; if null ls then 0 else (len'.tail$ls)+1)

ysum :: (Num a) =&gt; [a] -&gt; a
ysum = y (\sum' ls -&gt; if null ls then 0 else head ls + (sum'.tail $ ls))
-- output
Î»&gt; ylen [1,2,3,4]
4
Î»&gt; ysum [1,2,3,4]
10
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline11" class="outline-2">
<h2 id="orgheadline11">external links</h2>
<div class="outline-text-2" id="text-orgheadline11">
<p>
<a href="http://en.wikipedia.org/wiki/Fixed-point_combinator#Y_combinator">y-combinator
in wikipedia</a>
</p>

<p>
<a href="http://mitpress.mit.edu/books/little-schemer">the litter scheme -
chapter 8</a>
</p>
</div>
</div>

</div>
</div>]]></description>
      <pubDate>2016-02-03</pubDate>
      <guid>http://blog.enzotech.in/blog/2015/03/20/å°è¯•ç†è§£y-combinator/</guid>
    </item>
  </channel>
</rss>