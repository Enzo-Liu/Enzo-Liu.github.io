#+TITLE:       50. Pow(x, n)
#+AUTHOR:      enzo liu
#+EMAIL:       liuenze6516@gmail.com
#+DATE:        2016-02-28 Thu
#+URI:         /leetcode/50
#+KEYWORDS:    leetcode, ruby
#+TAGS:        leetcode, ruby
#+LANGUAGE:    en
#+OPTIONS:     H:3 num:nil toc:nil \n:nil ::t |:t ^:nil -:nil f:t *:t <:t
#+DESCRIPTION: leetcode

* 题目

[[https://leetcode.com/problems/powx-n/][链接]]

#+BEGIN_QUOTE
Implement pow(x, n).
#+END_QUOTE

* 思路

将加法运算(*)变成乘法运算(^)。 比如:

#+BEGIN_QUOTE
2^9 = 2* (2^(2^2))
#+END_QUOTE

* 代码

#+BEGIN_SRC ruby
  # @param {Float} x
  # @param {Integer} n
  # @return {Float}
  def my_pow(x, n)
    if x == 0 then return 0 end
    if n == 0 then return 1 end
    if n == 1 then return x end
    if n < 0 then return 1.0/my_pow(x,-n) end
    res = 1
    while (n != 0)
      t = n % 2
      res *= if t == 0 then 1 else x end
      x = x**2
      n = (n-t)/2
    end
    res
  end
#+END_SRC
